---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/2/28 16:43
---

local GloryActData = BaseClass("GloryActData")
local GloryActVsData = require "DataCenter.Glory.GloryActVsData"

local function __init(self)
    self.readyTime = 0
    self.startTime = 0
    self.endTime = 0
    self.score = 0
    self.actVsDataList = {} -- List<GloryActVsData>
end

local function ParseServerData(self, serverData)
    if serverData.readyTime then
        self.readyTime = serverData.readyTime
    end
    if serverData.startTime then
        self.startTime = serverData.startTime
    end
    if serverData.endTime then
        self.endTime = serverData.endTime
    end
    if serverData.score then
        self.score = serverData.score
    end
    if serverData.allianceVsInfo then
        self.actVsDataList = {}
        for _, v in ipairs(serverData.allianceVsInfo) do
            local actVsData = GloryActVsData.New()
            actVsData:ParseServerData(v)
            table.insert(self.actVsDataList, actVsData)
        end
    end
end

local function GetMyData(self)
    for _, actVsData in ipairs(self.actVsDataList) do
        if actVsData.allianceId == LuaEntry.Player.allianceId then
            return actVsData
        end
    end
    return nil
end

local function GetOpponentData(self)
    for _, actVsData in ipairs(self.actVsDataList) do
        if actVsData.allianceId ~= LuaEntry.Player.allianceId then
            return actVsData
        end
    end
    return nil
end

local function GetLeftData(self)
    return self:GetMyData()
end

local function GetRightData(self)
    return self:GetOpponentData()
end

GloryActData.__init = __init

GloryActData.ParseServerData = ParseServerData
GloryActData.GetMyData = GetMyData
GloryActData.GetOpponentData = GetOpponentData
GloryActData.GetLeftData = GetLeftData
GloryActData.GetRightData = GetRightData

return GloryActData