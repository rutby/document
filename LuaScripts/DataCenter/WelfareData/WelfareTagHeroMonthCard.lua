---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2022/3/29 11:58
---

local WelfareTagHeroMonthCard = BaseClass("WelfareTagHeroMonthCard", WelfareTagInfo)
local M = WelfareTagHeroMonthCard

function M:isShow()
    local info = self:getInfo()
    local isShow = false
    if info ~= nil then
        local now = UITimeManager:GetInstance():GetServerTime()
        if now < info.startTime or now > info.endTime then
            return false
        end
        local packageInfo = GiftPackageData.get(info.rechargeId)
        if packageInfo ~= nil then
            isShow = true
        end
    end
    return LuaEntry.DataConfig:CheckSwitch("hero_monthcard") and isShow and WelfareTagInfo.isShow(self)
end

function M:hasRedPoint()
    return DataCenter.HeroMonthCardManager:GetUnReceivedReward() > 0
end

function M:getInfo()
    local data = DataCenter.HeroMonthCardManager:GetHeroMonthCardInfo()
    return data
end

function M:getRedDotNum()
    return DataCenter.HeroMonthCardManager:GetUnReceivedReward()
end

function M:isShowIcon()
    local info = self:getInfo()
    return info ~= nil and WelfareTagInfo.isShowIcon(self)
end

return M