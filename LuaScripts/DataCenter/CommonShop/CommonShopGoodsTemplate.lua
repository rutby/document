---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2022/5/11 17:22
---

local CommonShopGoodsTemplate = BaseClass("CommonShopGoodsTemplate")

local function __init(self)
    self.id = 0
    self.shopType = 1
    self.itemId = ""
    self.itemNum = 0
    self.currencyType = RewardType.GOLD
    self.currencyId = ""
    self.costNum = 0
    self.vipLevel = 0
    self.discount = 0
    self.order = 0
    self.maxTimes = -1
    self.hero = ""
    self.currency_change = 0
    self.currency_num_s = ""
    self.discount_s = ""
    self.needExploit = 0
    self.needRank = 0
    self.openTime = 0
    self.closeTime = 0
    self.cycle = 0      --0:不限购  1:按周过期  2:按天过期  3:周五过期  4:活动每周重置 5:赛季重置
    self.season = 0     --该赛季才显示
end

local function __delete(self)
    self.id = nil
    self.shopType = nil
    self.itemId = nil
    self.itemNum = nil
    self.currencyType = nil
    self.currencyId = nil
    self.costNum = nil
    self.vipLevel = nil
    self.discount = nil
    self.order = nil
    self.maxTimes = nil
    self.hero = nil
    self.currency_change = nil
    self.currency_num_s = nil
    self.discount_s = nil
    self.needExploit = nil
    self.needRank = nil
    self.openTime = nil
    self.closeTime = nil
    self.cycle = 0
    self.season = 0
end

local function ParseData(self, message)
    if message ==nil then
        return
    end
    if message.id then
        self.id = message.id
    end
    if message.shop_id then
        self.shopType = message.shop_id
    end
    if message.goods then
        self.itemId = message.goods
    end
    if message.goods_num then
        self.itemNum = message.goods_num
    end
    if message.currency then
        local currencyArr = string.split(message.currency, ";")
        if currencyArr[1] == "1" then
            local resType = tonumber(currencyArr[2])
            self.currencyType = ResTypeToReward[resType]
        else
            self.currencyType = RewardType.GOODS
            self.currencyId = currencyArr[2]
        end
    end
    if message.time_open then
        local time = tonumber(message.time_open)
        if time < 0 then
            time = 0
        end
        self.openTime = time
    end
    if message.currency_num then
        self.costNum = message.currency_num
    end
    if message.vip_level then
        self.vipLevel = message.vip_level
    end
    if message.discount then
        self.discount = message.discount
    end
    if message.order then
        self.order = message.order
    end
    if message.hero then
        self.hero = message.hero
    end
    if message.cycle_times then
        self.maxTimes = message.cycle_times
    end
    if message.currency_change then
        self.currency_change = message.currency_change
    end

    if message.currency_num_s then
        self.currency_num_s = message.currency_num_s
    end
    if message.discount_s then
        self.discount_s = message.discount_s
    end
    if message.exploit then
        self.needExploit = message.exploit
    end
    if message.exploitRank then
        self.needRank = message.exploitRank
    end
    if message.cycle then
        self.cycle = message.cycle
    end
    if message.season then
        self.season = message.season
    else
        self.season = 0
    end
end

CommonShopGoodsTemplate.__init = __init
CommonShopGoodsTemplate.__delete = __delete
CommonShopGoodsTemplate.ParseData = ParseData
return CommonShopGoodsTemplate