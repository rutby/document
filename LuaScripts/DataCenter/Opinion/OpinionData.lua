---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2024/4/24 18:59
---

local OpinionData = BaseClass("OpinionData")

local function __init(self)
    self.satisfaction = 0
    self.opinions = {}
    self.mails = {}
end

local function GetSatisfaction(self)
    local str = LuaEntry.DataConfig:TryGetStr("people_config", "k17")
    local spls = string.split(str, ";")
    local staminaFactor = tonumber(spls[1]) or 0
    local moodFactor = tonumber(spls[2]) or 0
    local staminaPercent = DataCenter.VitaManager:GetAverageStaminaPercent()
    local moodPercent = DataCenter.VitaManager:GetAverageMoodPercent()
    local result = staminaPercent * 100 * staminaFactor + moodPercent * 100 * moodFactor + self.satisfaction
    result = toInt(math.floor(Mathf.Clamp(result, 0, 100)))
    return result
end

OpinionData.__init = __init

OpinionData.GetSatisfaction = GetSatisfaction

return OpinionData