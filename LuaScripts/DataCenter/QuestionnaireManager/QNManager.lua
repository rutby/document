---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zzl
--- DateTime: 
---
local QNManager = BaseClass("QNManager")

local function __init(self)
    self.questionnaires = {}
    self.curIndex = 1
    self.questionList = {}
end

local function __delete(self)
    self.questionnaires = nil
    self.curIndex = nil
    self.questionList = nil
end

local function InitData(self)
    SFSNetwork.SendMessage(MsgDefines.UserGetQuestionnaireList)
end

local function InitQNData(self, message)
    if message["questionnaires"] ~= nil then
        if  message["questionnaires"][1] then
            self.questionnaires =  message["questionnaires"][1]
        else
            self.questionnaires = nil
        end
        EventManager:GetInstance():Broadcast(EventId.QuestionnaireRefresh)
    end
end

local function GetQuestionList(self)
    if self.questionnaires then
        return self.questionnaires
    end
end

local function SetCurIndex(self,index)
    self.curIndex = index
end

local function GetCurIndex(self)
    return self.curIndex 
end

local function SetQuestion(self,question,answer)
    self.questionList[question] = answer
end

local function GetQuestion(self)
    return self.questionList
end

local function GetRewardData(self)
    return self.questionnaires.reward
end

QNManager.__init = __init
QNManager.__delete = __delete
QNManager.SetCurIndex = SetCurIndex
QNManager.GetCurIndex = GetCurIndex
QNManager.SetQuestion = SetQuestion
QNManager.GetQuestion = GetQuestion
QNManager.DoWhenQAResultBack = DoWhenQAResultBack
QNManager.InitQNData = InitQNData
QNManager.GetRewardData = GetRewardData
QNManager.InitData = InitData
QNManager.GetQuestionList = GetQuestionList

return QNManager