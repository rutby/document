---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2022/10/19 18:20
---

local WorldLodManager = BaseClass("WorldLodManager")
local WorldLodTemplate = require "DataCenter.WorldLod.WorldLodTemplate"

local function __init(self)
    self.templateDict = {}

    LocalController:instance():visitTable(TableName.WorldLod, function(_, line)
        local template = WorldLodTemplate.New()
        template:InitData(line)
        self.templateDict[template.id] = template
    end)
end

local function __delete(self)
    self.templateDict = nil
end

local function GetTemplate(self, id)
    return self.templateDict[tonumber(id)]
end

local function GetTemplatesByType(self, type)
    local templates = {}
    for _, template in pairs(self.templateDict) do
        if (template.type == type) then
            table.insert(templates, template)
        end
    end
    return templates
end

local function GetAllTemplates(self)
    return table.values(self.templateDict)
end

WorldLodManager.__init = __init
WorldLodManager.__delete = __delete

WorldLodManager.GetTemplate = GetTemplate
WorldLodManager.GetTemplatesByType = GetTemplatesByType
WorldLodManager.GetAllTemplates = GetAllTemplates

return WorldLodManager