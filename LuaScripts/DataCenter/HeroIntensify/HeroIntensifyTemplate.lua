---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/2/15 11:31
---

local HeroIntensifyTemplate = BaseClass("HeroIntensifyTemplate")

local function __init(self)
    self.id = 0
    self.level = 0
    self.name = 0
    self.descs = {} -- List<{ desc, type }>
    self.effectVals = {} -- List<val>
    self.pic = ""
    self.tips = 0
    self.type = HeroIntensifySlotType.Normal
    self.pos = 0
    self.camp = 0
    self.unlockSeason = 0
    self.maxExp = 1
    self.heroId = 0
end

local function __delete(self)
    self.id = nil
    self.level = nil
    self.name = nil
    self.descs = nil
    self.effectVals = nil
    self.pic = nil
    self.tips = nil
    self.type = nil
    self.pos = nil
    self.camp = nil
    self.unlockSeason = nil
    self.maxExp = nil
    self.heroId = nil
end

local function InitData(self,row)
    if row == nil then
        return
    end

    local tid = tonumber(row:getValue("id")) or 0
    local mod = tid % HeroIntensifyLevelCap
    self.id = tid - mod
    self.level = mod
    self.name = tonumber(row:getValue("name")) or 0
    self.descs = {}
    local descStr = tostring(row:getValue("description")) or ""
    for _, str in ipairs(string.split(descStr, ";")) do
        local spls = string.split(str, ",")
        if #spls == 2 then
            table.insert(self.descs, { desc = tonumber(spls[1]), type = tonumber(spls[2]) })
        end
    end
    self.effectVals = {}
    local effectValStr = tostring(row:getValue("effect_value")) or ""
    for _, str in ipairs(string.split(effectValStr, ";")) do
        table.insert(self.effectVals, tonumber(str))
    end
    self.pic = tostring(row:getValue("pic")) or ""
    self.tips = tonumber(row:getValue("tips")) or 0
    self.type = tonumber(row:getValue("random")) or 0
    self.pos = tonumber(row:getValue("position")) or 0
    self.camp = tonumber(row:getValue("camp")) or 0
    self.unlockSeason = tonumber(row:getValue("unlock_season")) or 0
    self.maxExp = tonumber(row:getValue("cost")) or 0
    self.heroId = tonumber(row:getValue("hero_item")) or 0
end

HeroIntensifyTemplate.__init = __init
HeroIntensifyTemplate.__delete = __delete
HeroIntensifyTemplate.InitData = InitData

return HeroIntensifyTemplate