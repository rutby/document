---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/10/17 20:53
---

local WatchAdData = BaseClass("WatchAdData")

local function __init(self)
    self.id = 0
    self.refreshTime = 0 -- 上次刷新时间
    self.num = 0 -- 已领取次数
    self.reward = {} -- 奖励
end

local function ParseServerData(self, serverData)
    if serverData.id then
        self.id = serverData.id
    end
    if serverData.refreshTime then
        self.refreshTime = serverData.refreshTime
    end
    if serverData.num then
        self.num = serverData.num
    end
    if serverData.reward then
        self.reward = serverData.reward
    end
end

local function GetWatchNum(self)
    local curTime = UITimeManager:GetInstance():GetServerTime()
    local sameDay = UITimeManager:GetInstance():IsSameDayForServer(curTime // 1000, self.refreshTime // 1000)
    return sameDay and self.num or 0
end

WatchAdData.__init = __init
WatchAdData.ParseServerData = ParseServerData
WatchAdData.GetWatchNum = GetWatchNum

return WatchAdData