---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2022/11/15 15:26
---

local HeroLackTipsItemBase = require "DataCenter.HeroLackTipManager.HeroLackTipsItemBase"
local HeroLackTipsItemDebrisExchange = BaseClass("HeroLackTipsItemDebrisExchange", HeroLackTipsItemBase)

local function CheckIsOk(self, needNum)
    self.needNum = needNum
    local template = DataCenter.HeroLackTipTemplateManager:GetTemplate(self.configId)
    if template == nil then
        return false
    end

    local hasHero = DataCenter.HeroDataManager:GetHeroUuidByHeroId(template.heroId)
    if hasHero == 0 then
        return false
    end
    return true
    --local fromId = HeroUtils.GetCommonExchangeItemId(template.heroId)
    --local itemCount = DataCenter.ItemData:GetItemCount(fromId)    
    --return itemCount > 0
end

local function TodoAction(self)
    local template = DataCenter.HeroLackTipTemplateManager:GetTemplate(self.configId)
    local fromId = HeroUtils.GetCommonExchangeItemId(template.heroId)
    local toId = template.fragmentid
    UIManager:GetInstance():OpenWindow(UIWindowNames.UIHeroDebrisExchange, fromId, toId, template.heroId, self.needNum, true)
end

HeroLackTipsItemDebrisExchange.CheckIsOk = CheckIsOk
HeroLackTipsItemDebrisExchange.TodoAction = TodoAction

return HeroLackTipsItemDebrisExchange