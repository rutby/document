---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/4/24 12:24
---

local OfficerCondition = require "DataCenter.OfficerListManager.OfficerCondition"

local OfficerConditionServer = BaseClass("OfficerConditionServer", OfficerCondition)
local function __init(self)
    OfficerCondition.__init(self)
    self.minServerId = 0
    self.maxServerId = 0
end

local function __delete(self)
    OfficerCondition.__delete(self)
    self.minServerId = 0
    self.maxServerId = 0
end


local function InitData(self, para)
    OfficerCondition.InitData(self, para)
    if table.count(para) >= 2 then
        local serverVec = string.split(para[2], "-")
        local count = table.count(serverVec)
        if count == 1 then
            self.minServerId = toInt(serverVec[1])
            self.maxServerId = toInt(serverVec[1])
        elseif count > 1 then
            self.minServerId = toInt(serverVec[1])
            self.maxServerId = toInt(serverVec[2])
        end
    end

end

local function IsValid(self)
    local selfServer = LuaEntry.Player:GetSrcServerId()
    return selfServer >= self.minServerId and selfServer <= self.maxServerId
end

OfficerConditionServer.__init = __init
OfficerConditionServer.__delete = __delete
OfficerConditionServer.InitData = InitData
OfficerConditionServer.IsValid = IsValid

return OfficerConditionServer