---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by cola.
--- DateTime: 2022/11/2 上午11:41
---

--[[角色数据组]]

local CharacterInfoMgr = BaseClass("CharacterInfoMgr")
local PvePlayerInfo = require "DataCenter.Survival.Character.PvePlayerInfo"
local CharacterBaseInfo = require "DataCenter.Survival.Character.CharacterBaseInfo"

function CharacterInfoMgr:__init()
    self.m_playerInfos = nil
    self.m_zombieInfos = nil
end

function CharacterInfoMgr:__delete()
    self.m_playerInfos = nil
    self.m_zombieInfos = nil
end

function CharacterInfoMgr:AddPvePlayerInfo(index, t)
    if self.m_playerInfos == nil then
        self.m_playerInfos = {}
    end
    local playerInfo = self:GetPvePlayerInfo(index)
    if playerInfo then
        playerInfo:UpdateInfo(t)
    else
        playerInfo = PvePlayerInfo.New()
        playerInfo:UpdateInfo(t)
        self.m_playerInfos[index] = playerInfo
    end
end

function CharacterInfoMgr:GetPvePlayerInfo(index)
    if self.m_playerInfos ~= nil then
        return self.m_playerInfos[index]
    end
end

function CharacterInfoMgr:AddZombieInfo(triggerId, template)
    if self.m_zombieInfos == nil then
        self.m_zombieInfos = {}
    end
    local obj = CharacterBaseInfo.New()
    obj:SetMaxBlood(template.maxBlood)
    obj:SetCurBlood(template.maxBlood)
    self.m_zombieInfos[triggerId] = obj
end

function CharacterInfoMgr:GetZombieInfo(triggerId)
    if self.m_zombieInfos ~= nil then
        return self.m_zombieInfos[triggerId]
    end
end

return CharacterInfoMgr