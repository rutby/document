---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by admin.
--- DateTime: 2024/3/28 20:15
---

local HeroEquipPromoteTemplate = BaseClass("HeroEquipPromoteTemplate")

function HeroEquipPromoteTemplate:__init()
    self.id = 0
    self.level = 0
    self.rank = 0
    self.grade = 0
    self.costResource = {}
    self.costGoods = {}
end

function HeroEquipPromoteTemplate:__delete()
    self.id = 0
    self.level = 0
    self.rank = 0
    self.grade = 0
    self.costResource = {}
    self.costGoods = {}
end

function HeroEquipPromoteTemplate:InitData(row)
    self.id = toInt(row:getValue("id"))
    self.level = toInt(row:getValue("level"))
    self.rank = toInt(row:getValue("rank"))
    self.grade = toInt(row:getValue("grade"))
    
    local costResource = row:getValue("cost_resource")
    if not string.IsNullOrEmpty(costResource) then
        local vec = string.split(costResource, "|")
        for _, v in ipairs(vec) do
            local resVec = string.split(v, ";")
            if table.count(resVec) == 2 then
                local param = {}
                param.resType = toInt(resVec[1])
                param.num = toInt(resVec[2])
                table.insert(self.costResource, param)
            end
        end
    end

    local costGoods = row:getValue("cost_goods")
    if not string.IsNullOrEmpty(costGoods) then
        local vec = string.split(costGoods, "|")
        for _, v in ipairs(vec) do
            local resVec = string.split(v, ";")
            if table.count(resVec) == 2 then
                local param = {}
                param.itemId = toInt(resVec[1])
                param.num = toInt(resVec[2])
                table.insert(self.costGoods, param)
            end
        end
    end
end

return HeroEquipPromoteTemplate