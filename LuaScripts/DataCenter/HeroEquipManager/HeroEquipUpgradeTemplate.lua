---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by admin.
--- DateTime: 2024/3/28 20:14
---

local HeroEquipUpgradeTemplate = BaseClass("HeroEquipUpgradeTemplate")

function HeroEquipUpgradeTemplate:__init()
    self.id = 0
    self.slot = 0
    self.quality = 0
    self.armyType = 0
    self.highestLevel = 0
    self.stoneUpgradeCost = {}
    self.resourceUpgradeCost = {}
end

function HeroEquipUpgradeTemplate:__delete()
    self.id = 0
    self.slot = 0
    self.quality = 0
    self.armyType = 0
    self.highestLevel = 0
    self.stoneUpgradeCost = {}
    self.resourceUpgradeCost = {}
end

function HeroEquipUpgradeTemplate:InitData(row)
    self.id = toInt(row:getValue("id"))
    self.slot = toInt(row:getValue("slot"))
    self.quality = toInt(row:getValue("quality"))
    self.armyType = toInt(row:getValue("army_type"))
    self.highestLevel = toInt(row:getValue("highest_level"))
    
    local stoneUpgradeCost = row:getValue("stone_upgrade_cost")
    if not string.IsNullOrEmpty(stoneUpgradeCost) then
        local vec = string.split(stoneUpgradeCost, ";")
        for _, v in ipairs(vec) do
            table.insert(self.stoneUpgradeCost, toInt(v))
        end
    end

    local resourceUpgradeCost = row:getValue("resource_upgrade_cost")
    if not string.IsNullOrEmpty(resourceUpgradeCost) then
        local vec = string.split(resourceUpgradeCost, "|")
        for _, v in ipairs(vec) do
            local resVec = string.split(v, ";")
            if table.count(resVec) == 2 then
                local param = {}
                param.resType = toInt(resVec[1])
                param.num = toInt(resVec[2])
                table.insert(self.resourceUpgradeCost, param)
            end
        end
    end
end

return HeroEquipUpgradeTemplate