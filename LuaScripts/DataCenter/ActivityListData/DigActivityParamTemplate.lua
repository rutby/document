---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2022/10/20 21:30
---DigActivityParamTemplate.lua

local DigActivityParamTemplate = BaseClass("DigActivityParamTemplate")

local function __init(self)
    self.id = 0--无用
    self.digId = 0
    self.level = 0
    self.rewards = {}--{itemId, count}
end

local function __delete(self)
    self.id = nil
    self.digId = nil
    self.level = nil
    self.rewards = nil
end

local function InitData(self,row)
    if row ==nil then
        return
    end 
    self.id = row:getIntValue("id")
    self.digId = row:getIntValue("dig_id")
    self.level = row:getIntValue("level")
    
    self.rewards = {}
    local goods_normal = row:getValue("goods_normal")
    local arrGoodsNormal = string.split(goods_normal, "|")
    for i, v in ipairs(arrGoodsNormal) do
        local perGoods = string.split(v, ";")
        if #perGoods == 2 then
            local tb = {}
            tb.itemId = perGoods[1]
            tb.count = tonumber(perGoods[2])
            table.insert(self.rewards, tb)
        end
    end
end

DigActivityParamTemplate.__init = __init
DigActivityParamTemplate.__delete = __delete

DigActivityParamTemplate.InitData = InitData

return DigActivityParamTemplate