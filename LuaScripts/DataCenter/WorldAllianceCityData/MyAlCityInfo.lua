---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2021/11/24 16:48
---

local MyAlCityInfo = BaseClass("MyAlCityInfo")

local function __init(self)
    self.cityId = nil
    self.cityName = nil
    self.giveUpEndTime = nil
    self.durability = nil
    self.lastDurabilityTime = nil
    self.changeNameTime = nil
    self.posV2 = nil --中心点位置
end

local function __delete(self)
    self.cityId = nil
    self.cityName = nil
    self.giveUpEndTime = nil
    self.durability = nil
    self.lastDurabilityTime = nil
    self.changeNameTime = nil
    self.posV2 = nil
end
local function ParseData(self,message)
    if message ==nil then
        return
    end
    if message["cityId"] then
        self.cityId = message["cityId"]
    end
    if message["giveUpTime"] then
        self.giveUpEndTime = message["giveUpTime"]
    end
    if message["durability"] then
        self.durability = message["durability"]
    end
    if message["lastDurabilityTime"] then
        self.lastDurabilityTime = message["lastDurabilityTime"]
    end
    if message["cityName"] then
        self.cityName = message["cityName"]
    end
    if message["changeNameTime"] then
        self.changeNameTime = message["changeNameTime"]
    end
    local size = GetTableData(TableName.WorldCity,self.cityId, "size")
    local location = GetTableData(TableName.WorldCity,self.cityId, "location")
    self.posV2 = {}
    self.posV2.x = 0
    self.posV2.y = 0
    if location~=nil and size~=nil then
        local tile = math.floor(size/2)
        local pos = string.split(location,"|")
        if #pos>1 then
            self.posV2.x = tonumber(pos[1])-tile
            self.posV2.y = tonumber(pos[2])-tile
        end
    end
end

local function SetGiveUpTime(self, endTime)
    self.giveUpEndTime = endTime
end

local function SetChangeNameTime(self,endTime)
    self.changeNameTime = endTime
end
local function SetChangeName(self,name)
    self.cityName = name
end
MyAlCityInfo.__init = __init
MyAlCityInfo.__delete = __delete
MyAlCityInfo.ParseData = ParseData
MyAlCityInfo.SetGiveUpTime = SetGiveUpTime
MyAlCityInfo.SetChangeNameTime =SetChangeNameTime
MyAlCityInfo.SetChangeName =SetChangeName
return MyAlCityInfo
