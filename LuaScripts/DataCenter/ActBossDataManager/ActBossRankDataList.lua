---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2022/4/21 12:29
---
local ActBossRankDataList = BaseClass("ActBossRankDataList")
local ActBossRankData = require "DataCenter.ActBossDataManager.ActBossRankData"
local function __init(self)
    self.uuid = 0
    self.selfRankData = {}
    self.rankList = {}
    self.lastScore = 0
end

local function __delete(self)
    self.uuid = nil
    self.selfRankData =nil
    self.rankList = nil
end

local function ParseData(self,message)
    if message==nil then
        return
    end
    if message["uuid"]~=nil then
        self.uuid = message["uuid"]
    end
    self.selfRankData = ActBossRankData.New()
    self.selfRankData:ParseData(message["selfRank"],message["selfScore"],message["selfUnit"],LuaEntry.Player.Uid)
    self.rankList = {}
    local list = message["rankList"]
    if list~=nil then
        for k, v in pairs(list) do
            local oneData = ActBossRankData.New()
            oneData:ParseData(v["rank"],v["score"],v["armyUnit"],v["uid"],v["name"],v["abbr"],v["allianceName"],v["pic"],v["picVer"],v["headSkinId"],v["headSkinET"])
            if oneData.rank>=0 then
                self.rankList[oneData.rank] = oneData
            end
        end
    end
end

local function GetSelfScore(self)
    if self.selfRankData~=nil then
        return self.selfRankData.score
    end
    return 0
end

ActBossRankDataList.__init = __init
ActBossRankDataList.__delete = __delete
ActBossRankDataList.ParseData = ParseData
ActBossRankDataList.GetSelfScore =GetSelfScore
return ActBossRankDataList