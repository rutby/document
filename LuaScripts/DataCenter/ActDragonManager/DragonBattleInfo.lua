---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/6/8 16:03
---
local DragonBattleInfo = BaseClass("DragonBattleInfo")
local VsInfoArr = require "DataCenter.ActDragonManager.VsInfoArr"
function DragonBattleInfo:__init()
    self.vsInfoArr = {}     --双方联盟信息
    self.battleEndTime = 0
    self.selfSide = 0
end

function DragonBattleInfo:__delete()
    self.vsInfoArr = {}     --双方联盟信息
    self.battleEndTime = 0
    self.selfSide = 0
end

function DragonBattleInfo:ParseData(message)
    if message==nil then
        return
    end
    if message["battleInfo"]~=nil then
        self.vsInfoArr = {}
        local scoreInfo = message["battleInfo"]
        for k,v in pairs(scoreInfo) do
            local oneData = VsInfoArr.New()
            oneData:ParseData(v)
            if oneData.allianceId~=nil and oneData.allianceId~="" then
                self.vsInfoArr[oneData.allianceId] = oneData
                if oneData.allianceId == LuaEntry.Player.allianceId then
                    self.selfSide = oneData.side
                end
            end
        end
    end
    if message["endTime"]~=nil then
        self.battleEndTime = message["endTime"]
    end
end


return DragonBattleInfo