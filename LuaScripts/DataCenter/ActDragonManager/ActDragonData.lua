---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zzl.
--- DateTime:
---
local ActDragonData = BaseClass("ActDragonData")
local VsInfoArr = require "DataCenter.ActDragonManager.VsInfoArr"
function ActDragonData:__init()
    self.alRank = 0         --联盟战力排名
    self.battlePeriod = 0   --报名场次
    self.assigned = 0       --本人被指派状态 0未指派 1指派出战2 替补
    self.alCreateTime = 0   --联盟创建时间
    self.signUp = 0         --是否报名 0 未报 1已报
    self.matchResult = 0    --匹配结果 0 未匹配 1 匹配到对手 2 轮空 3 服务器已满
    self.battleServerId = 0 --战场服
    self.worldId = 0        --战场服world         
    self.vsInfoArr = {}     --双方联盟信息
    self.timeInfo = {}
end

function ActDragonData:__delete()
    self.alRank = 0
    self.battlePeriod = 0
    self.assigned = 0
    self.alCreateTime = 0
    self.signUp = 0
    self.matchResult = 0
    self.battleServerId = 0
    self.worldId = 0
    self.vsInfoArr = {}
end

function ActDragonData:ParseData(message)
    if message==nil then
        return
    end
    if message["alRank"]~=nil then
        self.alRank = message["alRank"]
    end
    if message["battlePeriod"]~=nil then
        self.battlePeriod = message["battlePeriod"]
    end
    if message["assigned"]~=nil then
        self.assigned = message["assigned"]
    end
    if message["alCreateTime"]~=nil then
        self.alCreateTime = message["alCreateTime"]
    end
    if message["signUp"]~=nil then
        self.signUp = message["signUp"]
    end
    if message["matchResult"]~=nil then
        self.matchResult = message["matchResult"]
    end
    if message["battleServerId"]~=nil then
        self.battleServerId = message["battleServerId"]
    end

    if message["worldId"]~=nil then
        self.worldId = message["worldId"]
    end

    if message["vsInfoArr"]~=nil then
        local arr = message["vsInfoArr"]
        for i = 1 ,table.count(arr) do
            local oneData = VsInfoArr.New()
            oneData:ParseData(arr[i])
            self.vsInfoArr[i] = oneData
        end
    end

    if message["timeInfo"]~=nil then
        self.timeInfo = message["timeInfo"]     --battleOpenTime  endTime  prepTime
    end
end

--报名更新  
function ActDragonData:UpdateBattlePeriod(message)
    self.battlePeriod = message
    self.signUp = 1
end
--只能修改报名场次，无法取消报名
function ActDragonData:ModifyBattlePeriod(message)
    self.battlePeriod = message["battlePeriod"]
    self.signUp = 1
end

return ActDragonData