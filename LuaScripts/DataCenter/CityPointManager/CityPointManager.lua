---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2021/12/2 14:36
---

local CityPointManager = BaseClass("CityPointManager")
local Data = CS.GameEntry.Data

local function __init(self)
    
end

local function __delete(self)
  
end

local function Startup(self)

end

local function GetPointType(self, pointId)
    local info = DataCenter.BuildCityBuildManager:GetCityBuildDataByPoint(pointId)
    if info ~= nil then
        if info.state == BuildCityBuildState.Fake then
            return CityPointType.ZeroFakeBuild
        elseif info.state == BuildCityBuildState.Own then
            local buildData = DataCenter.BuildManager:GetBuildingDataByPointId(pointId, false)
            if buildData ~= nil and buildData.state ~= BuildingStateType.FoldUp then
                return CityPointType.Building
            end
        end
    end

    return CityPointType.Other
end

local function GetPointSize(self, pointId)
    local buildData = DataCenter.BuildManager:GetBuildingDataByPointId(pointId, false)
    if buildData ~= nil then
        local buildTemplate = DataCenter.BuildTemplateManager:GetBuildingDesTemplate(buildData.type)
        if buildTemplate ~= nil then
            return buildTemplate.tiles
        end
    end
    
    return BuildTilesType.One
end

CityPointManager.__init = __init
CityPointManager.__delete = __delete

CityPointManager.Startup = Startup
CityPointManager.GetPointType = GetPointType
CityPointManager.GetPointSize = GetPointSize

return CityPointManager