---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2022/10/12 11:01
---
local ArmyInfo = BaseClass("ArmyInfo")
local ArmyUnitBuff = require "DataCenter.MailData.BattleReport.ArmyUnitBuff"
local ArmyHeroInfo = require "DataCenter.WorldMarchDataManager.ArmyHeroInfo"
local ArmySoldierInfo = require "DataCenter.WorldMarchDataManager.ArmySoldierInfo"
local SuitInfo = require "DataCenter.WorldMarchDataManager.SuitInfo"
local function __init(self)
    self.initHealth = 0
    self.health= 0
    self.uuid = 0
    self.Soldiers = {}
    self.HeroInfos = {}
    self.UnitBuffs = {}
    self.Suits = {}
    self.UnitEffects = {}
end

local function __delete(self)
    self.initHealth = nil
    self.health= nil
    self.uuid = nil
    self.Soldiers = {}
    self.HeroInfos = {}
    self.UnitBuffs = {}
    self.Suits = {}
    self.UnitEffects = {}
end


local function UpdateArmyList(self,proto)
    self.Soldiers = {}
    self.HeroInfos = {}
    self.UnitBuffs = {}
    self.Suits = {}
    self.UnitEffects = {}
    local soldierArr = proto.soldiers
    for k,v in pairs(soldierArr) do
        local oneData = ArmySoldierInfo.New()
        oneData:UpdateSoldier(v)
        table.insert(self.Soldiers,oneData)
    end
    local heroesArr = proto.heroes
    for k,v in pairs(heroesArr) do
        local oneData = ArmyHeroInfo.New()
        oneData:UpdateHeroInfo(v)
        table.insert(self.HeroInfos,oneData)
    end
    local buffArr = proto.unitBuffs
    for k,v in pairs(buffArr) do
        local oneData = ArmyUnitBuff.New()
        oneData:InitData(v)
        table.insert(self.UnitBuffs,oneData)
    end
    local suitArr = proto.suits
    if suitArr~=nil then
        for k,v in pairs(suitArr) do
            local oneData = SuitInfo.New()
            oneData:UpdateSuitInfo(v)
            table.insert(self.Suits,oneData)
        end
    end
    local unitEffects = proto.unitEffects
    if unitEffects~=nil then
        for k,v in pairs(unitEffects) do
            local oneData = v
            if oneData.effectId>0 then
                self.UnitEffects[oneData.effectId] = oneData
            end
        end
    end
end

local function GetMarchEffectValue(self,effectId)
    local value = 0
    if self.UnitEffects[effectId]~=nil then
        local oneData = self.UnitEffects[effectId]
        value = oneData.value
    end
    return value
end
ArmyInfo.__init = __init
ArmyInfo.__delete = __delete
ArmyInfo.UpdateArmyList = UpdateArmyList
ArmyInfo.GetMarchEffectValue =GetMarchEffectValue
return ArmyInfo