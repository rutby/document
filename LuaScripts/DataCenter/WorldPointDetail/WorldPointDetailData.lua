---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2021/8/5 14:20
---
local WorldPointDetailData = BaseClass("WorldPointDetailData")
local WorldDesertData = require "DataCenter.DesertData.WorldDesertData"
local AlMineData = require "DataCenter.AllianceMine.AllianceMineData"

local function __init(self)
    self.uid = ""
    self.picVer =0
    self.pic =""
    self.name = ""
    self.allianceId = ""
    self.alAbbr = ""
    self.allianceName = ""
    self.power =0
    self.armyKill = 0
    self.serverId = 0
    self.allianceIcon = ""
    self.allianceRank =0
    self.vipLevel = 0 
    self.pointId = 0
    self.reward = {}
    self.speed = 0
    self.remainRes = 0
    self.initRes = 0
    self.careerType = CareerType.None
    self.careerLv = 0
    self.plunderResRate = 0
    self.attachId = 0
    self.resSpecialType = ResPointType.Normal
    self.expireTime = 0
    self.desertInfo = nil
    self.alBuilding = nil
    self.npcData = nil
    self.srcServer = 0
    self.maxHp = 0
    self.coverSpeed = 0
end

local function __delete(self)
    self.uid = nil
    self.picVer =nil
    self.pic =nil
    self.name =nil
    self.allianceId =nil
    self.alAbbr = nil
    self.allianceName =nil
    self.power =nil
    self.armyKill = nil
    self.serverId = nil
    self.allianceIcon = nil
    self.allianceRank =nil
    self.vipLevel = nil
    self.pointId = nil
    self.reward = nil
    self.speed = nil
    self.remainRes = nil
    self.initRes = nil
    self.careerType = nil
    self.careerLv = nil
    self.plunderResRate = nil
    self.attachId = nil
    self.resSpecialType = nil
    self.expireTime =nil
    self.desertInfo = nil
    self.alBuilding = nil
    self.npcData = nil
    self.srcServer = 0
    self.maxHp = 0
    self.coverSpeed = 0
end

local function ParseData(self, message)
    if message ==nil then
        return
    end
    if message["point"]~=nil then
        self.pointId = message["point"]
    end
    if message["uid"]~=nil  then
        self.uid = message["uid"]
    end
    if message["name"]~=nil  then
        self.name = message["name"]
    end
    if message["picVer"]~=nil  then
        self.picVer = message["picVer"]
    end
    if message["pic"]~=nil  then
        self.pic = message["pic"]
    end
    if message["allianceId"]~=nil  then
        self.allianceId = message["allianceId"]
    end
    if message["afn"]~=nil  then
        self.alAbbr = message["afn"]
    end
    if message["alName"]~=nil  then
        self.allianceName = message["alName"]
    end
    if message["power"]~=nil  then
        self.power = message["power"]
    end

    if message["killArmy"]~=nil  then
        self.armyKill = message["killArmy"]
    end
    if message["alIcon"]~=nil then
        self.allianceIcon = message["alIcon"]
    end
    if message["rank"]~=nil then
        self.allianceRank = message["rank"]
    end
    if message["vl"]~=nil then
        self.vipLevel = message["vl"]
    end
    if message["scrServer"]~=nil then
        self.serverId = message["scrServer"]
    end
    if message["speed"]~=nil then
        self.speed = message["speed"]
    end
    if message["remainRes"]~=nil then
        self.remainRes = message["remainRes"]
    end
    if message["initRes"]~=nil then
        self.initRes = message["initRes"]
    end
    if message["reward"] then
        self.reward = DataCenter.RewardManager:ReturnRewardParamForView(message["reward"])
    end
    if message["careerType"] then
        self.careerType = message["careerType"]
    end
    if message["careerLv"] then
        self.careerLv = message["careerLv"]
    end
    if message["plunderResRate"] then
        self.plunderResRate = message["plunderResRate"]
    end
    if message["attachId"] then
        self.attachId = message["attachId"]
    end
    if message["plunderResRate"] then
        self.resSpecialType = message["type"]
    end
    if message["expireTime"] then
        self.expireTime = message["expireTime"]
    end
    if message["desert"]~=nil then
        self.desertInfo = WorldDesertData.New()
        self.desertInfo:ParseData(message["desert"])
    end
    if message["alBuilding"] then
        self.alBuilding = AlMineData.New()
        self.alBuilding:ParseData(message["alBuilding"])
        if self.alBuilding.allianceId~=nil and self.alBuilding.allianceId~="" and self.alBuilding.allianceId == LuaEntry.Player.allianceId then
            DataCenter.AllianceMineManager:UpdateMinInfo(self.alBuilding)
        end
        
    end
    if message["npcInfo"] then
        
    end

    if message["srcServer"] then
        self.srcServer = message["srcServer"]
    end

    if message["maxHp"] then
        self.maxHp = tonumber(message["maxHp"])
    end
    if message["speed"] then
        self.speed = tonumber(message["speed"])
    end
    if message["monster"]~=nil then
        self.monsterData =message["monster"]
        if self.monsterData~=nil then
            self.monsterData.ownerName = self.name
        end
        --{"initHealth":500000000,"pointId":501490,"actStart":1713884400000,"worldId":0,"monsterId":421601,"actEnd":1713888000000,"health":500000000,"uuid":1099851826884503301}
    end
end

WorldPointDetailData.__init = __init
WorldPointDetailData.__delete = __delete
WorldPointDetailData.ParseData = ParseData

return WorldPointDetailData