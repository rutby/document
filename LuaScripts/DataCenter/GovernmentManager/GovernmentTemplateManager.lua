---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/3/13 14:40
---

local GovernmentTemplateManager = BaseClass("GovernmentTemplateManager")
local GovernmentTemplate = require "DataCenter.GovernmentManager.GovernmentTemplate"

local function __init(self)
    self.templateDic = {}
    self.isInit = false
end

local function __delete(self)
    self.templateDic = {}
    self.isInit = false
end

local function InitAllTemplate(self)
    self.templateDic = {}
    LocalController:instance():visitTable(TableName.Government, function(id, lineData)
        local item = GovernmentTemplate.New()
        item:InitData(lineData)
        self.templateDic[item.id] = item
    end)
end

local function GetAllTemplate(self)
    if not self.isInit then
        self:InitAllTemplate()
    end
    return self.templateDic
end

local function GetTemplate(self, id)
    if not self.isInit then
        self:InitAllTemplate()
    end
    return self.templateDic[id]
end

GovernmentTemplateManager.__init = __init
GovernmentTemplateManager.__delete = __delete
GovernmentTemplateManager.InitAllTemplate = InitAllTemplate
GovernmentTemplateManager.GetAllTemplate = GetAllTemplate
GovernmentTemplateManager.GetTemplate = GetTemplate

return GovernmentTemplateManager