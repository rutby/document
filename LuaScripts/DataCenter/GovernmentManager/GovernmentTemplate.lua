---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/3/13 14:40
---

local DecorationTemplate = BaseClass("DecorationTemplate")

local function __init(self)
    self.id = 0
    self.name = ""
    self.effect = {}
    self.icon = ""
    self.is_positive = 0
end

local function __delete(self)
    self.id = 0
    self.name = ""
    self.effect = {}
    self.icon = ""
    self.is_positive = 0
end

local function InitData(self,row)
    if row == nil then
        return
    end
    self.id = tonumber(row:getValue("id")) or 0
    self.name = row:getValue("name") or ""
    self.icon = string.format(LoadPath.UIGovernment, row:getValue("icon") or "")
    self.is_positive = row:getValue("is_positive") or 0
    local SetEffect = function(effectMap, str)
        if string.IsNullOrEmpty(str) then
            return
        end
        local all = string.split(str, "|")
        for _, v in ipairs(all) do
            if not string.IsNullOrEmpty(v) then
                local effectVec = string.split(v, ";")
                if table.count(effectVec) == 2 then
                    effectMap[toInt(effectVec[1])] = tonumber(effectVec[2])
                end
            end
        end
    end
    local ownStr = row:getValue("effect")
    SetEffect(self.effect, ownStr)
end

DecorationTemplate.__init = __init
DecorationTemplate.__delete = __delete
DecorationTemplate.InitData = InitData

return DecorationTemplate