---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2024/4/16 21:21
---

local CityResidentStateBase = require "DataCenter.CityResident.CityResidentState.CityResidentStateBase"
local CityResidentStateOverwork = BaseClass("CityResidentStateOverwork", CityResidentStateBase)

local function OnEnter(self)
    if self.data.residentData.fUuid ~= 0 then
        local furnitureInfo = DataCenter.FurnitureManager:GetFurnitureByUuid(self.data.residentData.fUuid)
        if furnitureInfo then
            self.data:ShowTool("")
            self.data:SetAutoAnim(true)
            self.data:GoToBuildingRandomPos(furnitureInfo.bUuid, CityResidentDefines.WayPointFlag.All)
            return
        end
    end
    self.data:SetState(CityResidentDefines.State.Idle)
end

local function OnFinish(self)
    self.data.overworked = true
    self.data:SetState(CityResidentDefines.State.Idle)
end

CityResidentStateOverwork.OnEnter = OnEnter
CityResidentStateOverwork.OnFinish = OnFinish

return CityResidentStateOverwork