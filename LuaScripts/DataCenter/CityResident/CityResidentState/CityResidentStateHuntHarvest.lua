---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2024/4/22 18:55
---

local CityResidentStateBase = require "DataCenter.CityResident.CityResidentState.CityResidentStateBase"
local CityResidentStateHuntHarvest = BaseClass("CityResidentStateHuntHarvest", CityResidentStateBase)

local function OnEnter(self)
    if self.data.target then
        self.data:ShowTool("")
        self.data:PlayAnim(CityResidentDefines.AnimName.Walk)
        self.data:SetSpeed(DataCenter.CityResidentManager:GetResidentWalkSpeed())
        self.data:GoToPosDirectly(self.data.target:GetPos())
    end
end

local function OnFinish(self)
    self.data:SetState(CityResidentDefines.State.WorkBack)
    if self.data.target then
        DataCenter.CityResidentManager:RemoveData(self.data.target.uuid)
    end
end

CityResidentStateHuntHarvest.OnEnter = OnEnter
CityResidentStateHuntHarvest.OnFinish = OnFinish

return CityResidentStateHuntHarvest