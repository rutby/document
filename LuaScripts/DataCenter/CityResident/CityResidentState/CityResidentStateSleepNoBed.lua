---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/11/23 10:52
---
 
local CityResidentStateBase = require "DataCenter.CityResident.CityResidentState.CityResidentStateBase"
local CityResidentStateSleepNoBed = BaseClass("CityResidentStateSleepNoBed", CityResidentStateBase)

local function OnEnter(self)
    local mainBuildData = DataCenter.BuildManager:GetFunbuildByItemID(BuildingTypes.FUN_BUILD_MAIN)
    local mainPos = mainBuildData:GetCenterVec()
    self.data:LookAt(mainPos)
    self.data:Idle()
    local ran = math.random(1, 2)
    if ran == 1 then
        self.data:PlayAnim(CityResidentDefines.AnimName.Protest)
    else
        self.data:PlayAnim(CityResidentDefines.AnimName.Idle)
    end
end

local function OnExit(self)
    DataCenter.CityHudManager:Destroy(self.data.uuid, CityHudType.Speak)
end

CityResidentStateSleepNoBed.OnEnter = OnEnter
CityResidentStateSleepNoBed.OnExit = OnExit

return CityResidentStateSleepNoBed