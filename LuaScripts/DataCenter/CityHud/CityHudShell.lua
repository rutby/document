---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2024/1/30 11:28
---

-- 给 UICityHudItem 包个壳，把UI当场景物体显示
local CityHudShell = BaseClass("CityHudShell")

local function __init(self, gameObject)
    self.active = true
    self.gameObject = gameObject
    self.transform = gameObject.transform
    self.canvas = self.transform:Find("Canvas"):GetComponent(typeof(CS.UnityEngine.Canvas))
    self.canvas.worldCamera = CS.UnityEngine.Camera.main
end

function CityHudShell:OnDestroy()
    
end

local function SetActive(self, active)
    self.active = active
    self.gameObject:SetActive(active)
    if self.hudItem then
        if active then
            self.hudItem:OnEnable()
        else
            self.hudItem:OnDisable()
        end
    end
end

local function AddComponent(self, script, go)
    self.hudItem = script.New(self, go)
    self.hudItem:OnCreate()
    if self.active then
        self.hudItem:OnEnable()
    end
    return self.hudItem
end

local function RemoveComponent(self) 
    if self.hudItem then
        if self.active then
            self.hudItem:OnDisable()
        end
        self.hudItem:OnDestroy()
    end
end

local function GetActiveInHierarchy(self)
    return self.gameObject.activeInHierarchy
end

CityHudShell.__init = __init

CityHudShell.SetActive = SetActive
CityHudShell.AddComponent = AddComponent
CityHudShell.RemoveComponent = RemoveComponent
CityHudShell.GetActiveInHierarchy = GetActiveInHierarchy

return CityHudShell
