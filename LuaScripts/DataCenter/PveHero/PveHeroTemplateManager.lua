---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1022.
--- DateTime: 2023/1/3 15:23
---
local PveHeroTemplateManager = BaseClass("PveHeroTemplateManager")
local PveHeroTemplate = require "DataCenter.PveHero.PveHeroTemplate"

local NoTemplate = "NoTemplate"

local function __init(self)
    self.templateDict = {}
    self.levelUpTemplateDict = {}
    self.rankTemplateDic = {}
end

local function __delete(self)
end

local function GetTemplate(self,id)
    id = tonumber(id)
    if id == nil then
        return nil
    end

    if self.templateDict[id] == NoTemplate then
        return nil
    end

    if self.templateDict[id] ~= nil then
        return self.templateDict[id]
    end

    local line = LocalController:instance():getLine(TableName.PveHero, id)
    if line ~= nil then
        local template = PveHeroTemplate.New()
        template:InitData(line)
        self.templateDict[id] = template
        return template
    else
        line = LocalController:instance():getLine(TableName.PveHero,1002)
        if line ~= nil then
            local template = PveHeroTemplate.New()
            template:InitData(line)
            self.templateDict[id] = template
            return template
        end
        self.templateDict[id] = NoTemplate
        return nil
    end
end

PveHeroTemplateManager.__init = __init
PveHeroTemplateManager.__delete = __delete
PveHeroTemplateManager.GetTemplate = GetTemplate

return PveHeroTemplateManager