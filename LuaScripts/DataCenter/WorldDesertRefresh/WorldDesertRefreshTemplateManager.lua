---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2022/11/8 16:19
---
local WorldDesertRefreshTemplateManager = BaseClass("WorldDesertRefreshTemplateManager");
local WorldDesertRefreshTemplate = require "DataCenter.WorldDesertRefresh.WorldDesertRefreshTemplate"

local function __init(self)
    self.templateDict = nil
    self:InitTemplateDict()
end

local function __delete(self)
    self.templateDict = nil
end

local function StartUp(self)

end

local function InitTemplateDict(self)
    self.templateDict = {}
    self.allianceCityDic = {}
    LocalController:instance():visitTable(TableName.DesertRefresh, function(id, lineData)
        local template = WorldDesertRefreshTemplate.New()
        template:InitData(lineData)
        if template.city_id~=0 then
            self.allianceCityDic[template.city_id] = template.em_desertId
        end
        self.templateDict[tostring(id)] = template
    end)
end

local function GetTemplate(self, id)
    return self.templateDict[tostring(id)]
end

local function GetAllTemplate(self)
    return self.templateDict
end

local function GetEmptyDesertIdByCityId(self,allianceCityId)
    return self.allianceCityDic[allianceCityId]
end
WorldDesertRefreshTemplateManager.__init = __init
WorldDesertRefreshTemplateManager.__delete = __delete
WorldDesertRefreshTemplateManager.StartUp = StartUp
WorldDesertRefreshTemplateManager.InitTemplateDict = InitTemplateDict
WorldDesertRefreshTemplateManager.GetTemplate = GetTemplate
WorldDesertRefreshTemplateManager.GetAllTemplate = GetAllTemplate
WorldDesertRefreshTemplateManager.GetEmptyDesertIdByCityId = GetEmptyDesertIdByCityId

return WorldDesertRefreshTemplateManager