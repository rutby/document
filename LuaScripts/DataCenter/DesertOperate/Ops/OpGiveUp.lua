---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/3/29 11:55
---

-- 放弃地块
local OpGiveUp = BaseClass("OpGiveUp", OpBase)
local base = OpBase
local Localization = CS.GameEntry.Localization

local function Init(self, uuid)
    base.Init(self, uuid)
end

local function CanShow(self)
    local data = DataCenter.DesertDataManager:GetSelfDesertDataByUuid(self.uuid)
    if data == nil then
        return false
    end
    local curTime = UITimeManager:GetInstance():GetServerTime()
    return curTime >= data.giveUpTime
end

local function GetOrder(self)
    return 2
end

local function GetIcon(self)
    return string.format(LoadPath.UIBuildBtns, "uibuild_btn_dismantle")
end

local function GetTitle(self)
    return Localization:GetString("130242")
end

local function GetDesc(self)
    return Localization:GetString("110281")
end

local function GetBtnText(self)
    return Localization:GetString("130242")
end

local function GetBtnState(self)
    return DesertOperateBtnState.Yellow
end

local function OnClick(self, view, item)
    DataCenter.DesertDataManager:GiveUp(self.uuid, function()
        view:Close()
    end)
end

OpGiveUp.Init = Init
OpGiveUp.CanShow = CanShow
OpGiveUp.GetOrder = GetOrder
OpGiveUp.GetIcon = GetIcon
OpGiveUp.GetTitle = GetTitle
OpGiveUp.GetDesc = GetDesc
OpGiveUp.GetBtnText = GetBtnText
OpGiveUp.GetBtnState = GetBtnState
OpGiveUp.OnClick = OnClick

return OpGiveUp