---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/3/29 13:01
---

-- 取消放弃地块
local OpCancelGiveUp = BaseClass("OpCancelGiveUp", OpBase)
local base = OpBase
local Localization = CS.GameEntry.Localization

local function Init(self, uuid)
    base.Init(self, uuid)
end

local function CanShow(self)
    local data = DataCenter.DesertDataManager:GetSelfDesertDataByUuid(self.uuid)
    if data == nil then
        return false
    end
    local curTime = UITimeManager:GetInstance():GetServerTime()
    return curTime < data.giveUpTime
end

local function GetOrder(self)
    return 2
end

local function GetIcon(self)
    return string.format(LoadPath.UIBuildBtns, "uibuild_btn_canceldismantle")
end

local function GetTitle(self)
    return Localization:GetString("110106")
end

local function GetDesc(self)
    return Localization:GetString("110289")
end

local function GetBtnText(self)
    return Localization:GetString("110106")
end

local function GetBtnState(self)
    return DesertOperateBtnState.Yellow
end

local function OnClick(self, view, item)
    DataCenter.DesertDataManager:CancelGiveUp(self.uuid, function()
        view:Close()
    end)
end

OpCancelGiveUp.Init = Init
OpCancelGiveUp.CanShow = CanShow
OpCancelGiveUp.GetOrder = GetOrder
OpCancelGiveUp.GetIcon = GetIcon
OpCancelGiveUp.GetTitle = GetTitle
OpCancelGiveUp.GetDesc = GetDesc
OpCancelGiveUp.GetBtnText = GetBtnText
OpCancelGiveUp.GetBtnState = GetBtnState
OpCancelGiveUp.OnClick = OnClick

return OpCancelGiveUp