---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/11/10 16:36
---
local UITMPInput = BaseClass("UITMPInput", UIBaseComponent)
local base = UIBaseComponent
local UnityInputField = typeof(CS.TMPro.TMP_InputField)

-- 创建
local function OnCreate(self)
    base.OnCreate(self)
    -- Unity侧原生组件
    self.unity_UITMPInput = self.gameObject:GetComponent(UnityInputField)
end

local function IsEnabled(self,isToggle)
    self.unity_UITMPInput.enabled=isToggle
end

-- 获取文本
local function GetText(self)
    return self.unity_UITMPInput.text
end

-- 设置文本
local function SetText(self, text)
    self.unity_UITMPInput:Native_SetText(text)
end

local function SetLocalText(self, text)
    --self.unity_UITMPInput:SetLocalText(text)
end

-- 销毁
local function OnDestroy(self)
    if self.__onEndEdit ~= nil then
        self.unity_UITMPInput.onEndEdit:RemoveListener(self.__onEndEdit)
    end
    if self.__onValueChange ~= nil then
        self.unity_UITMPInput.onValueChanged:RemoveListener(self.__onValueChange)
    end
    pcall(function()
        self.unity_UITMPInput.onEndEdit:Clear()
        self.unity_UITMPInput.onValueChanged:Clear()
    end)

    self.unity_UITMPInput = nil
    self.__onEndEdit = nil
    self.__onValueChange = nil
    base.OnDestroy(self)
end

local function SetOnEndEdit(self, action)
    if action then
        if self.__onEndEdit then
            self.unity_UITMPInput.onEndEdit:RemoveListener(self.__onEndEdit)
        end
        self.__onEndEdit = action
        self.unity_UITMPInput.onEndEdit:AddListener(self.__onEndEdit)
    elseif self.__onEndEdit then
        self.unity_UITMPInput.onEndEdit:RemoveListener(self.__onEndEdit)
        self.__onEndEdit = nil
    end
end
local function SetOnValueChange(self,action)
    if action then
        if self.__onValueChange then
            self.unity_UITMPInput.onValueChanged:RemoveListener(self.__onValueChange)
        end
        self.__onValueChange = action
        self.unity_UITMPInput.onValueChanged:AddListener(self.__onValueChange)
    elseif self.__onValueChange then
        self.unity_UITMPInput.onValueChanged:RemoveListener(self.__onValueChange)
        self.__onValueChange = nil
    end
end

local function SetInteractable(self,value)
    self.unity_UITMPInput.interactable = value
end

local function SetEnable(self, value)
    self.unity_UITMPInput.enabled = value
end

local function Select(self)
    self.unity_UITMPInput:Select()
    self.unity_UITMPInput:ActivateInputField()
end

UITMPInput.OnCreate = OnCreate
UITMPInput.GetText = GetText
UITMPInput.SetText = SetText
UITMPInput.SetLocalText = SetLocalText
UITMPInput.SetOnEndEdit = SetOnEndEdit
UITMPInput.SetOnValueChange = SetOnValueChange
UITMPInput.OnDestroy = OnDestroy
UITMPInput.SetInteractable = SetInteractable
UITMPInput.SetEnable = SetEnable
UITMPInput.IsEnabled=IsEnabled
UITMPInput.Select=Select

return UITMPInput