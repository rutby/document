---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guqu.
--- DateTime: 2020/6/16 18:09
---
local TimeBarUtil = {}

--finishDeltaTime：endTime - curTime 当前时间距结束时间间隔
--LastChanceDeltaTime：endTime - lastCurTime上次刷新时间条的时间距结束时间间隔结束时间(刷slider用)
--totalTime 总时间
-- totalWidth 时间条背景的宽度(像素级）

local function CheckIsNeedChangeBar(finishDeltaTime,LastChanceDeltaTime, totalTime, totalWidth)
    --判断是否能造成1/10像素变化
    local perInterVal = totalTime/(totalWidth*2)
    --间隔大于2s置为2s
    if perInterVal > 2*1000 then
        perInterVal = 2*1000
    end
    
    local interval = math.abs(LastChanceDeltaTime - finishDeltaTime)

    if interval > perInterVal then
        
        return true
    end
    
    return false
end

--finishDeltaTime：endTime - curTime 当前时间距结束时间间隔
--LastChanceDeltaTime：endTime - lastCurTime上次刷新时间条的时间距结束时间间隔结束时间(刷text用)

local function CheckIsNeedChangeText(finishDeltaTime, LastChanceDeltaTime)
    --判断是否过了一秒
    if finishDeltaTime>0 then
        if LastChanceDeltaTime/1000 ~= finishDeltaTime/1000 then
            return true
        end
    end
    return false
end

TimeBarUtil.CheckIsNeedChangeText = CheckIsNeedChangeText
TimeBarUtil.CheckIsNeedChangeBar = CheckIsNeedChangeBar

return ConstClass("TimeBarUtil", TimeBarUtil)