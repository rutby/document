---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/12/20 10:10
---
local CS_Sound = CS.GameEntry.Sound
local SoundUtil = {}

-- 同步AudioListener的位置
function SoundUtil.SyncListenerPos(x, y, z)
    CS_Sound:SetAudioListenerPosition(x, y, z)
end

function SoundUtil.Play3DSound(go, name)
    return CS_Sound:Play3DSoundAtGO(go, name)
end

function SoundUtil.Stop3DSound(go)
    return CS_Sound:Stop3DSoundAtGO(go)
end

function SoundUtil.Remove3DSoundAll()
    CS_Sound:Remove3DSoundAll()
end 

function SoundUtil.PlayDub(dub_name, callback)
    return CS_Sound:PlayDub(dub_name, callback)
end

function SoundUtil.StopSound(serialID)
    CS_Sound:StopSound(serialID)
end

function SoundUtil.StopDubSound()
    CS_Sound:StopGroupSound("Dub")
end


function SoundUtil.PlayLoopEffect(effect_name)
    local serialID = CS_Sound:PlayEffect(effect_name,true)
    return serialID
end

function SoundUtil.PlayEffect(effect_name)
    local serialID = CS_Sound:PlayEffect(effect_name)
    return serialID
end

function SoundUtil.PlayBGMusicByName(bgName)
    local serialID = CS_Sound:PlayMusic(bgName)
    return serialID
end

function SoundUtil.PlayMainSceneBGMusic()
    if SceneUtils.GetIsInWorld() then
        SoundUtil.PlayBGMusicByName(SoundAssets.Music_Bgm_world)
    elseif SceneUtils.GetIsInCity() then
        local curTime = UITimeManager:GetInstance():GetServerTime()
        local dayNight = DataCenter.VitaManager:GetDayNight(curTime)
        if dayNight == VitaDefines.DayNight.Day then
            SoundUtil.PlayBGMusicByName(SoundAssets.Music_Bgm_day)
        else
            local siegeType = DataCenter.CitySiegeManager:GetSiegeType()
            if siegeType == CitySiegeType.None then
                SoundUtil.PlayBGMusicByName(SoundAssets.Music_Bgm_night)
            elseif siegeType == CitySiegeType.Normal then
                SoundUtil.PlayBGMusicByName(SoundAssets.Music_Boss_Siege_1)
            elseif siegeType == CitySiegeType.Big then
                SoundUtil.PlayBGMusicByName(SoundAssets.Music_Boss_Siege_2)
            end
        end
    end
    
end

function SoundUtil.PauseSound(serialID)
    CS_Sound:PauseSound(serialID)
end

function SoundUtil.ResumeSound(serialID)
    CS_Sound:ResumeSound(serialID)
end

return ConstClass("SoundUtil", SoundUtil)