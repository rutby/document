---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 24224.
--- DateTime: 2020/6/29 17:55
---MailReadStatusBatchMessage
local MailReadStatusBatchMessage = BaseClass("MailReadStatusBatchMessage", SFSBaseMessage)

local base = SFSBaseMessage

local function OnCreate(self, uids, t)
    base.OnCreate(self, uids)

	local str_uids = uids
	if type(uids) == "table" then
		str_uids = table.concat(uids, ",")
	end
	
    if not string.IsNullOrEmpty(str_uids) then
        self.sfsObj:PutUtfString("uids", str_uids)
    end
end

local function HandleMessage(self, t)
    base.HandleMessage(self, t)
    Logger.Log(t)
    local errCode =  t["errorCode"]
    if errCode ~= nil then
        UIUtil.ShowTipsId(errCode) 
    end
    EventManager:GetInstance():Broadcast(EventId.MailPush)
end

MailReadStatusBatchMessage.OnCreate = OnCreate
MailReadStatusBatchMessage.HandleMessage = HandleMessage

return MailReadStatusBatchMessage