---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/3/21 21:17
---

local UserFillCrossWormArmyMessage = BaseClass("UserFillCrossWormArmyMessage", SFSBaseMessage)
local base = SFSBaseMessage

local function OnCreate(self, armyDict)
    base.OnCreate(self)
    
    local formationArr = SFSArray.New()
    for armyId, count in pairs(armyDict) do
        local obj = SFSObject.New()
        obj:PutUtfString("armyId", armyId)
        obj:PutInt("count", count)
        formationArr:AddSFSObject(obj)
    end
    self.sfsObj:PutSFSArray("formations", formationArr)
end

local function HandleMessage(self, message)
    base.HandleMessage(self, message)
    if message["errorCode"] then
        return
    end
    DataCenter.CrossWormManager:HandleSaveArmy(message)
end

UserFillCrossWormArmyMessage.OnCreate = OnCreate
UserFillCrossWormArmyMessage.HandleMessage = HandleMessage

return UserFillCrossWormArmyMessage