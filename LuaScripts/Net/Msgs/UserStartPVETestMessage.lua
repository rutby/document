---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2022/4/24 22:59
---

local UserStartPVETestMessage = BaseClass("UserStartPVETestMessage", SFSBaseMessage)
local base = SFSBaseMessage

local function OnCreate(self, id, isStart, armyDict)
    base.OnCreate(self)
    
    self.sfsObj:PutInt("id", id)
    self.sfsObj:PutBool("start", isStart)
    
    if armyDict ~= nil then
        local armyArr = SFSArray.New()
        for k, v in pairs(armyDict) do
            local obj = SFSObject.New()
            obj:PutUtfString("armyId", tostring(k))
            obj:PutInt("count", tonumber(v))
            armyArr:AddSFSObject(obj)
        end
        self.sfsObj:PutSFSArray("formations", armyArr)
    end
end

local function HandleMessage(self, message)
    base.HandleMessage(self, message)
    DataCenter.BattleLevel:OnStartLevelMessage(message)
end

UserStartPVETestMessage.OnCreate = OnCreate
UserStartPVETestMessage.HandleMessage = HandleMessage

return UserStartPVETestMessage