---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zzl
--- DateTime: 
--- 积分领奖
local AcceptPersonalReward = BaseClass("AcceptPersonalReward", SFSBaseMessage)
local base = SFSBaseMessage
local Localization = CS.GameEntry.Localization

local function OnCreate(self,param)
    base.OnCreate(self)
    if param ~= nil then
        self.sfsObj:PutUtfString("actId", param.actId)
        self.sfsObj:PutInt("stage", param.stage)
        self.sfsObj:PutInt("eventType", param.eventType)
    end
end

local function HandleMessage(self, t)
    base.HandleMessage(self, t)
    local errCode =  t["errorCode"]
    if errCode ~= nil then
        UIUtil.ShowTipsId(errCode) 
    else 
        local rewardInfo = t["reward"]
        if rewardInfo ~= nil then
            DataCenter.ActivityListDataManager:ActRewardHandle(t)
        end
        EventManager:GetInstance():Broadcast(EventId.RefreshActivityRedDot)
    end
end

AcceptPersonalReward.OnCreate = OnCreate
AcceptPersonalReward.HandleMessage = HandleMessage

return AcceptPersonalReward