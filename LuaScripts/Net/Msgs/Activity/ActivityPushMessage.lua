---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by .
--- DateTime: 
---
local ActivityPushMessage = BaseClass("ActivityPushMessage", SFSBaseMessage)
local base = SFSBaseMessage
--- 活动-积分类活动，领奖状态刷新 服务器主动推送
local function OnCreate(self)
    base.OnCreate(self)
end

local function HandleMessage(self, message)
    base.HandleMessage(self, message)
    if message["errorCode"] ~= nil then
        UIUtil.ShowTips(Localization:GetString(message["errorCode"]))
        return
    end
     DataCenter.ActivityListDataManager:RetEventData(message)
    if message["type"] == ActivityEventType.PERSONAL then
        --消息返回的是上次信息，这里重新请求拿到最新信息
        SFSNetwork.SendMessage(MsgDefines.ActivityEventInfoGet,message["activityId"])
    end
end

ActivityPushMessage.OnCreate = OnCreate
ActivityPushMessage.HandleMessage = HandleMessage

return ActivityPushMessage