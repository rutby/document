---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zzl
--- DateTime: 
--- 七日盒子领奖
local UserDayActReward = BaseClass("UserDayActReward", SFSBaseMessage)
local base = SFSBaseMessage
local Localization = CS.GameEntry.Localization
local function OnCreate(self,index,type)
    base.OnCreate(self)
    self.sfsObj:PutInt("index", index)
    self.sfsObj:PutInt("type", type)
end

local function HandleMessage(self, message)
    base.HandleMessage(self, message)
    if message["errorCode"] ~= nil then
        local errorCode = message["errorCode"]
        if errorCode ~= SeverErrorCode then
            UIUtil.ShowTips(Localization:GetString(message["errorCode"]))
        end
    else
        local info = DataCenter.ActivityListDataManager:GetSevenDayList()
        if info ~= nil then
            info:SetScoreBoxState(message)
            info:CheckRedDot()
        end
        DataCenter.RewardManager:ShowCommonReward(message)
        if message["reward"] ~= nil then
            for k,v in pairs(message["reward"]) do
                DataCenter.RewardManager:AddOneReward(v)
            end
        end
        EventManager:GetInstance():Broadcast(EventId.SevenDayGetReward,message.index)
    end
end

UserDayActReward.OnCreate = OnCreate
UserDayActReward.HandleMessage = HandleMessage

return UserDayActReward