---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2022/1/13 18:10
---

local PushAlApplyMessage = BaseClass("PushAlApplyMessage", SFSBaseMessage)
local base = SFSBaseMessage

local function OnCreate(self)
    base.OnCreate(self)
end

local function HandleMessage(self, t)
    base.HandleMessage(self, t)
    if t["u"]~=nil then
        DataCenter.AllianceMemberDataManager:OnRecvNewApplyReq(t["u"], t["add"])
        DataCenter.AllianceBaseDataManager:ResetAlMoveInviteInfo()
        DataCenter.AllianceBaseDataManager:AddBacktoMainCallback(function()
            DataCenter.AllianceBaseDataManager:OpenMoveCityTipWithReq()
        end)
        EventManager:GetInstance():Broadcast(EventId.UpdateAllianceGiftNum)
    end
end

PushAlApplyMessage.OnCreate = OnCreate
PushAlApplyMessage.HandleMessage = HandleMessage

return PushAlApplyMessage