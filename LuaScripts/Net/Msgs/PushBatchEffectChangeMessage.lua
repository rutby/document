---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2021/10/20 10:36
---
local PushBatchEffectChangeMessage = BaseClass("PushBatchEffectChangeMessage", SFSBaseMessage)
local base = SFSBaseMessage
local function OnCreate(self)
    base.OnCreate(self)
end

local function HandleMessage(self, t)
    base.HandleMessage(self, t)
    if LuaEntry.Effect~=nil then
        local preRadarCenterEffect = LuaEntry.Effect:GetGameEffect(EffectDefine.DETECT_EVENT_FUNCTION_OPEN)

        LuaEntry.Effect:OnEffectChange(t)
        local nowRadarCenterEffect = LuaEntry.Effect:GetGameEffect(EffectDefine.DETECT_EVENT_FUNCTION_OPEN)
        if preRadarCenterEffect ~= nowRadarCenterEffect then
            DataCenter.RadarCenterDataManager:GetDetectEventData()
        end
        EventManager:GetInstance():Broadcast(EventId.EffectNumChange)
    end
end

PushBatchEffectChangeMessage.OnCreate = OnCreate
PushBatchEffectChangeMessage.HandleMessage = HandleMessage

return PushBatchEffectChangeMessage