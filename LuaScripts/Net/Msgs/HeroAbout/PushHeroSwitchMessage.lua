---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zhangliheng.
--- DateTime: 7/12/21 6:05 PM
---
--- 阵营招募-阵营切换相关 登录或更改时push

local PushHeroSwitchMessage = BaseClass("PushHeroSwitchMessage", SFSBaseMessage)
local base = SFSBaseMessage

local function OnCreate(self)
    base.OnCreate(self)
end

local function HandleMessage(self, message)
    base.HandleMessage(self, message)
    
    local freeCount = message["freeCount"] or 0             --阵营切换已使用的免费次数
    local freeMax = message["freeMax"] or 0                 --阵营切换免费次数上限
    local nextCampLotteryId = message["nextdayId"] or 0     --特定阵营招募 下一个阵营
    
    DataCenter.LotteryDataManager:SetCampChangeInfo(freeCount, freeMax, nextCampLotteryId)
    EventManager:GetInstance():Broadcast(EventId.RecruitCampChange)
end

PushHeroSwitchMessage.OnCreate = OnCreate
PushHeroSwitchMessage.HandleMessage = HandleMessage

return PushHeroSwitchMessage