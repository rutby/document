---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2022/9/23 17:39
---
local WorldMarchChangeMessage = BaseClass("WorldMarchChangeMessage", SFSBaseMessage)
local base = SFSBaseMessage
local Localization = CS.GameEntry.Localization

local function OnCreate(self,uuid,target,targetUid,path,worldId,autoBackHome,targetServer,destroyTimeIndex)
    base.OnCreate(self)
    self.sfsObj:PutLong("uuid", uuid)
    self.sfsObj:PutInt("target", target)
    self.sfsObj:PutLong("targetUid",targetUid)
    if path~=nil and path ~="" then
        self.sfsObj:PutUtfString("path", path)
    end
    self.sfsObj:PutInt("worldId",worldId)
    self.sfsObj:PutBool("autoBackHome",autoBackHome)
    if targetServer>0 then
        self.sfsObj:PutInt("targetServer",targetServer)
    end
    if destroyTimeIndex>0 then
        self.sfsObj:PutInt("destroyTimeIndex",destroyTimeIndex)
    end
end

local function HandleMessage(self, t)
    base.HandleMessage(self, t)
    local errCode =  t["errorCode"]
    if errCode ~= nil then
        UIUtil.ShowTipsId(errCode)
    else
        DataCenter.WorldMarchDataManager:HandleFormationMarchChange(t)
    end
end

WorldMarchChangeMessage.OnCreate = OnCreate
WorldMarchChangeMessage.HandleMessage = HandleMessage

return WorldMarchChangeMessage