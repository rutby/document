---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by wjy.
--- DateTime: 2023/1/10
---
---

local AddHeroTriggerEvent = BaseClass("AddHeroTriggerEvent")
local AddHeroEffect = "VFX_xishou_gaotouchuxian_jiangli"

function AddHeroTriggerEvent:__init()
    --Logger.LogError("__init")
end

function AddHeroTriggerEvent:__delete()
    --Logger.LogError("__delete")
end
function AddHeroTriggerEvent:Execute(param)
    --Logger.LogError("Execute")
    local spl = string.split(param.para,"|")
    local heros = {}
    for _, value in ipairs(spl) do
        table.insert(heros,tonumber(value))
    end
    if DataCenter.LWBattleManager.logic.AddDelayEvent then
        DataCenter.LWBattleManager.logic:AddDelayEvent(
            function()
                if DataCenter.LWBattleManager.logic.AddMember then
                    for _, heroId in ipairs(heros) do
                        DataCenter.LWBattleManager.logic:AddMember(heroId)
                    end
                end
            end, 0.5
        )
    else
        if DataCenter.LWBattleManager.logic.AddMember then
            for _, heroId in ipairs(heros) do
                DataCenter.LWBattleManager.logic:AddMember(heroId)
            end
        end
    end
end

return AddHeroTriggerEvent 