---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by wsf.
---

---@class AddSingleHeroSkillTriggerEvent
local AddSingleHeroSkillTriggerEvent = BaseClass("AddSingleHeroSkillTriggerEvent")

function AddSingleHeroSkillTriggerEvent:__init()
    
end

function AddSingleHeroSkillTriggerEvent:__delete()
    
end

function AddSingleHeroSkillTriggerEvent:Execute(param, extra)

    if not extra then
        return
    end

    local skillMeta = DataCenter.HeroSkillTemplateManager:GetTemplate(param.para)
    if skillMeta == nil then
        Logger.LogError("[AddSingleHeroSkillTriggerEvent]找不到技能，id为:" .. param.para)
    end

    local heros = DataCenter.LWBattleManager.logic.team.teamUnits
    if heros then
        for _, hero in pairs(heros) do
            if hero.hero and hero.hero.uuid and hero.hero.uuid == extra then
                hero.skillManager:AddSkill(skillMeta)
                DataCenter.LWBattleManager.logic:ShowEffectObj(
                        AddKillEffect, nil,nil,5,hero.transform
                )
                break
            end
        end
    end
end

return AddSingleHeroSkillTriggerEvent