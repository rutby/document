---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 27/3/2024 下午2:22
---
local base = WorldTroopStateBase
local WorldTroopStatePickGarbageLeaveGarbage = BaseClass("WorldTroopStatePickGarbageLeaveGarbage",WorldTroopStateBase)
local Const = require"Scene.WorldTroopManager.Const"
local TotalTime = 2
function WorldTroopStatePickGarbageLeaveGarbage:__init(worldTroop,stateMachine)
    base.__init(self,worldTroop,stateMachine)
end

function  WorldTroopStatePickGarbageLeaveGarbage:__delete()
    base.__delete(self)
end
function WorldTroopStatePickGarbageLeaveGarbage:OnStateEnter()
    if self.worldTroop == nil then
        return
    end
    self.worldTroop:PlayAnim(Const.WorldTroopAnim.Anim_Back)
    self.worldTroop:TroopUnitPickBack()
    WorldTroopManager:GetInstance():AddToUpdateList(self.worldTroop:GetMarchUUID())
    self.startTime = Time.realtimeSinceStartup
end

function WorldTroopStatePickGarbageLeaveGarbage:OnStateLeave()

end

function WorldTroopStatePickGarbageLeaveGarbage:OnStateUpdate()
    if Time.realtimeSinceStartup-self.startTime >TotalTime then
        self:ChangeState(Const.WorldTroopState.Move)
    end
end




return WorldTroopStatePickGarbageLeaveGarbage