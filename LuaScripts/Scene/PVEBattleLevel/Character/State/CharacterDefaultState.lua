---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1022.
--- DateTime: 2022/9/26 18:21
---默认行为，在没有行为的时候使用这个
---
local CharacterBaseState = require("Scene.PVEBattleLevel.Character.State.CharacterBaseState")
local CharacterDefaultState = BaseClass("CharacterDefaultState",CharacterBaseState)

function CharacterDefaultState:OnEnter()
    self:__addEvent()
    self.m_owner:PlayAnim(self.m_owner:GetDefaultAnimName())
end

function CharacterDefaultState:__addEvent()
    if self.m_owner.animEvent then
        self.m_owner.animEvent.animation_playEnd = function() self:__onAnimPlayEnd()  end
    end
end

function CharacterDefaultState:__removeEvent()
    if self.m_owner.animEvent then
        self.m_owner.animEvent.animation_playEnd = nil
    end
end

function CharacterDefaultState:__onAnimPlayEnd()
    self.m_owner:PlayAnim(self.m_owner:GetDefaultAnimName())
end

function CharacterDefaultState:OnExit()
    self:__removeEvent()
end

function CharacterDefaultState:ChangeCharacterState()
    self.m_owner:PlayAnim(self.m_owner:GetDefaultAnimName())
end

function CharacterDefaultState:Destroy()
    self:__removeEvent()
    CharacterBaseState.Destroy(self)
end

return CharacterDefaultState