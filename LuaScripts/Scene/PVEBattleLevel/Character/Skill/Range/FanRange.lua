---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1022.
--- DateTime: 2023/1/12 20:01
---
local FanRange = BaseClass("BaseRange")
local SU_Util = require("Scene.PVEBattleLevel.Utils.SU_Util")

function FanRange:__init(originPoint,radius,angle,localEulerAngleY)
    self.originPoint = originPoint
    self.radius = radius
    self.angle = angle
    self.localEulerAngleY = localEulerAngleY
end

function FanRange:ContainPoint(point)
    local pos1 = self.originPoint
    local pos2 = point
    local angle = SU_Util.GetAngle(pos1,pos2)
    angle = Mathf.Abs(angle - self.localEulerAngleY % 360)
    local angle2 = self.angle / 2
    local dis = Vector3.Distance(pos1,pos2)
    if (angle < angle2 or angle > 360 - angle2) and dis <= self.radius then
        return true
    end
    return false
end

return FanRange