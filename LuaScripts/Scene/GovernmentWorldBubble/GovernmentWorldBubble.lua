---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/3/24 11:24
---

local GovernmentWorldBubble = BaseClass("GovernmentWorldBubble")

local icon_path = "Transform/icon"
--创建
local function OnCreate(self, go)
    if go ~= nil then
        self.request = go
        self.gameObject = go.gameObject
        self.transform = go.gameObject.transform
    end
    self:ComponentDefine()
    self:DataDefine()
end

-- 销毁
local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
end

local function ComponentDefine(self)
    if not self.defend then
        self.icon_sprite = self.transform:Find(icon_path):GetComponent(typeof(CS.UnityEngine.SpriteRenderer))
        self.defend = true
    end
end

local function ComponentDestroy(self)
    self.icon_sprite = nil
    self.bg_sprite = nil
end

local function DataDefine(self)
    self.defend = false
end

local function DataDestroy(self)
    self.defend = false
end

local function SetData(self, governmentId)
    self.governmentId = governmentId
    local template = DataCenter.GovernmentTemplateManager:GetTemplate(self.governmentId)
    if template then
        self.icon_sprite:LoadSprite(template.icon)
    end
end


GovernmentWorldBubble.OnCreate = OnCreate
GovernmentWorldBubble.OnDestroy = OnDestroy
GovernmentWorldBubble.ComponentDefine = ComponentDefine
GovernmentWorldBubble.ComponentDestroy = ComponentDestroy
GovernmentWorldBubble.DataDefine = DataDefine
GovernmentWorldBubble.DataDestroy = DataDestroy
GovernmentWorldBubble.SetData = SetData

return GovernmentWorldBubble