---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2024/4/12 10:50
---

local base = require "UI.UICityHud.Component.UICityHudBase"
local UICityHudWallHp = BaseClass("UICityHudWallHp", base)

local slider_path = "Root/Slider"
local hp_path = "Root/Hp"

local function ComponentDefine(self)
    base.ComponentDefine(self)
    self.slider = self:AddComponent(UISlider, slider_path)
    self.hp_text = self:AddComponent(UITextMeshProUGUIEx, hp_path)
end

local function DataDefine(self)
    base.DataDefine(self)
end

local function SetParam(self, param)
    base.SetParam(self, param)
    local data = DataCenter.CityWallManager:GetData(param.id)
    local curHp = data:GetCurHp()
    local maxHp = data:GetMaxHp()
    self.slider:SetValue(curHp / maxHp)
    self.hp_text:SetText(string.GetFormattedSeperatorNum(curHp))
end

UICityHudWallHp.ComponentDefine = ComponentDefine
UICityHudWallHp.DataDefine = DataDefine
UICityHudWallHp.SetParam = SetParam

return UICityHudWallHp