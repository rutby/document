---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2021/11/8 21:13
---
local WorldSimpleMonsterDes = BaseClass("WorldSimpleMonsterDes", UIBaseContainer)
local base = UIBaseContainer
local Localization = CS.GameEntry.Localization
local name_path = "BuildDetails/NameText"
local des_txt_path = "BuildDetails/desTxt"
local icon_path = "BuildDetails/Monster_Icon"
local tip_path = "BuildDetails/simple_tip"
local tip_1_path = "BuildDetails/simple_tip/ele_icon/simple_tip_1"
local default_icon_path = "Assets/Main/Sprites/UI/Common/New/singlemap_monster_head.png"
-- 创建
local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

-- 销毁
local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

-- 显示
local function OnEnable(self)
    base.OnEnable(self)
end

-- 隐藏
local function OnDisable(self)
    base.OnDisable(self)
end


--控件的定义
local function ComponentDefine(self)
    self.name = self:AddComponent(UITextMeshProUGUIEx,name_path)
    self.des_txt = self:AddComponent(UITextMeshProUGUIEx,des_txt_path)
    self.icon = self:AddComponent(UIImage, icon_path)
    self.tip = self:AddComponent(UITextMeshProUGUIEx, tip_path)
    self.tip_1 = self:AddComponent(UITextMeshProUGUIEx, tip_1_path)
end

--控件的销毁
local function ComponentDestroy(self)
    self.name = nil
    self.des_txt = nil
    self.tip = nil
end

--变量的定义
local function DataDefine(self)
    self.data = nil
end

--变量的销毁
local function DataDestroy(self)
    self.data = nil
end

local function RefreshData(self, param)
    self.data = param
    if param.isRawName == true then
        self.name:SetText(self.data.name)
    else
        self.name:SetLocalText(self.data.name)
    end
    local iconName = param.icon or default_icon_path
    self.icon:LoadSprite(iconName, nil, function()
        self.icon:SetNativeSize()
    end)
    if param.tip ~= nil then
        self.tip:SetText(param.tip)
        self.tip_1:SetText(param.tip_1)
        self.tip:SetActive(true)
    else
        self.tip:SetActive(false)
    end
    self.des_txt:SetLocalText(self.data.des) 
end

WorldSimpleMonsterDes.OnCreate = OnCreate
WorldSimpleMonsterDes.OnDestroy = OnDestroy
WorldSimpleMonsterDes.OnEnable = OnEnable
WorldSimpleMonsterDes.OnDisable = OnDisable
WorldSimpleMonsterDes.ComponentDefine = ComponentDefine
WorldSimpleMonsterDes.ComponentDestroy = ComponentDestroy
WorldSimpleMonsterDes.DataDefine = DataDefine
WorldSimpleMonsterDes.DataDestroy = DataDestroy
WorldSimpleMonsterDes.RefreshData = RefreshData
return WorldSimpleMonsterDes