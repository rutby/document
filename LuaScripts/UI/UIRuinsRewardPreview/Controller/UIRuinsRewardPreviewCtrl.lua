---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/10/9 16:42
---
local UIRuinsRewardPreviewCtrl = BaseClass("UIRuinsRewardPreviewCtrl", UIBaseCtrl)
local Localization = CS.GameEntry.Localization
local function CloseSelf(self)
    UIManager.Instance:DestroyWindow(UIWindowNames.UIRuinsRewardPreview)
end

local function GetRewardList(self,level)
    local list = {}
    local data = DataCenter.WorldAllianceCityRecordManager:GetRewardByLevel(level)
    if data~=nil and data.scoreRewardList then
        local reward = table.values(data.scoreRewardList)
        table.sort(reward,function(a,b)
            return a.score<b.score
        end)
        for k,v in pairs(reward) do
            local oneData ={}
            oneData.index = k
            oneData.score = v.score
            oneData.rewards = v.rewards
            table.insert(list,oneData)
        end
        table.sort(list,function(a,b)
            return a.index>b.index
        end)
    end
    return list
end
UIRuinsRewardPreviewCtrl.CloseSelf = CloseSelf
UIRuinsRewardPreviewCtrl.GetRewardList = GetRewardList
return UIRuinsRewardPreviewCtrl