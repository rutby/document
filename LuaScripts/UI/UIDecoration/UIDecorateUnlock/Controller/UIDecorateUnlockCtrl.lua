---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2022/12/8 16:45
---

local UIDecorationMainCtrl = BaseClass("UIDecorationMainCtrl", UIBaseCtrl)

local function CloseSelf(self)
    UIManager.Instance:DestroyWindow(UIWindowNames.UIDecorateUnlock)
end

local function GetPanelData(self, decorationId)
    local template = DataCenter.DecorationTemplateManager:GetTemplate(decorationId)
    local result = {}
    local list = {}
    result["list"] = list
    if template then
        local methods = template.gainMethod
        for _, v in pairs(methods) do
            local para = {}
            para.id = v.id
            para.time = v.time
            para.index = v.index
            para.skinId = v.skinId
            table.insert(list, para)
        end
    end
    local data = DataCenter.DecorationDataManager:GetSkinDataById(decorationId)
    local name = template.name
    local time = data and data.expireTime or -1
    result.name = name
    result.time = time
    result.img = template.img
    return result
end

UIDecorationMainCtrl.CloseSelf = CloseSelf
UIDecorationMainCtrl.GetPanelData = GetPanelData

return UIDecorationMainCtrl