---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/8/11 11:37
---

local UIRateTiItem = BaseClass("UIRateTiItem", UIBaseContainer)
local base = UIBaseContainer
local UICommonItem = require "UI.UICommonItem.UICommonItem"

local item_path = "UICommonItem"
local name_path = "Name"
local count_path = "Count"
local rate_path = "Rate"

local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function ComponentDefine(self)
    self.item = self:AddComponent(UICommonItem, item_path)
    self.name_text = self:AddComponent(UIText, name_path)
    self.count_text = self:AddComponent(UIText, count_path)
    self.rate_text = self:AddComponent(UIText, rate_path)
end

local function ComponentDestroy(self)
    
end

local function DataDefine(self)
    
end

local function DataDestroy(self)
    
end

local function OnAddListener(self)
    base.OnAddListener(self)
end

local function OnRemoveListener(self)
    base.OnRemoveListener(self)
end

local function SetData(self, data)
    local name = DataCenter.RewardManager:GetNameByType(data.reward.rewardType, data.reward.itemId)
    self.item:ReInit(data.reward)
    self.name_text:SetText(name)
    self.count_text:SetText("x" .. data.count)
    self.rate_text:SetText(data.rate .. "%")
end

UIRateTiItem.OnCreate = OnCreate
UIRateTiItem.OnDestroy = OnDestroy
UIRateTiItem.OnEnable = OnEnable
UIRateTiItem.OnDisable = OnDisable
UIRateTiItem.ComponentDefine = ComponentDefine
UIRateTiItem.ComponentDestroy = ComponentDestroy
UIRateTiItem.DataDefine = DataDefine
UIRateTiItem.DataDestroy = DataDestroy
UIRateTiItem.OnAddListener = OnAddListener
UIRateTiItem.OnRemoveListener = OnRemoveListener

UIRateTiItem.SetData = SetData

return UIRateTiItem