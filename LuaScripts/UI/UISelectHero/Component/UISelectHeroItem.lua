---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/3/23 17:53
---

local UISelectHeroItem = BaseClass("UISelectHeroItem", UIBaseContainer)
local base = UIBaseContainer
local UIHeroCellSmall = require "UI.UIHero2.Common.UIHeroCellSmall"

local hero_path = "UIHeroCellSmall"
local select_path = "Select"
local march_path = "March"
local march_text_path = "March/MarchText"
local defend_city_path = "DefendCity"
local defend_city_text_path = "DefendCity/DefendCityText"
local defend_cross_worm_path = "DefendCrossWorm"
local defend_cross_worm_text_path = "DefendCrossWorm/DefendCrossWormText"

local function OnCreate(self)
    base.OnCreate(self)
    self:DataDefine()
    self:ComponentDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function ComponentDefine(self)
    self.hero = self:AddComponent(UIHeroCellSmall, hero_path)
    self.select_go = self:AddComponent(UIBaseContainer, select_path)
    self.march_go = self:AddComponent(UIBaseContainer, march_path)
    self.march_text = self:AddComponent(UIText, march_text_path)
    self.march_text:SetLocalText(120166)
    self.defend_city_go = self:AddComponent(UIBaseContainer, defend_city_path)
    self.defend_city_text = self:AddComponent(UIText, defend_city_text_path)
    self.defend_city_text:SetLocalText(120165)
    self.defend_cross_worm_go = self:AddComponent(UIBaseContainer, defend_cross_worm_path)
    self.defend_cross_worm_text = self:AddComponent(UIText, defend_cross_worm_text_path)
    self.defend_cross_worm_text:SetLocalText(120165)
end

local function ComponentDestroy(self)
    self.hero = nil
    self.select_go = nil
    self.march_go = nil
    self.march_text = nil
    self.defend_city_go = nil
    self.defend_city_text = nil
    self.defend_cross_worm_go = nil
    self.defend_cross_worm_text = nil
end

local function DataDefine(self)
    self.heroUuid = nil
    self.selected = false
    self.marching = false
    self.defendingCity = false
    self.defendingCrossWorm = false
end

local function DataDestroy(self)
    self.heroUuid = nil
    self.selected = nil
    self.marching = nil
    self.defendingCity = nil
    self.defendingCrossWorm = nil
end

local function OnAddListener(self)
    base.OnAddListener(self)
end

local function OnRemoveListener(self)
    base.OnRemoveListener(self)
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function SetData(self, heroUuid)
    self.heroUuid = heroUuid
    self.hero:SetData(heroUuid, function()
        self:OnClick()
    end)
    self:Refresh()
end

local function SetOnClick(self, onClick)
    self.onClick = onClick
end

local function SetSelected(self, selected)
    self.selected = selected
    self:Refresh()
end

local function SetMarching(self, marching)
    self.marching = marching
    self:Refresh()
end

local function SetDefendingCity(self, defendingCity)
    self.defendingCity = defendingCity
    self:Refresh()
end

local function SetDefendingCrossWorm(self, defendingCrossWorm)
    self.defendingCrossWorm = defendingCrossWorm
    self:Refresh()
end

local function Refresh(self)
    if self.selected then
        self.select_go:SetActive(true)
        return
    end
    self.select_go:SetActive(false)
    if self.marching then
        self.march_go:SetActive(true)
        return
    end
    self.march_go:SetActive(false)
    if self.defendingCity then
        self.defend_city_go:SetActive(true)
        return
    end
    self.defend_city_go:SetActive(false)
    if self.defendingCrossWorm then
        self.defend_cross_worm_go:SetActive(true)
        return
    end
    self.defend_cross_worm_go:SetActive(false)
end

local function OnClick(self)
    if self.onClick then
        self.onClick()
    end
end

UISelectHeroItem.OnCreate = OnCreate
UISelectHeroItem.OnDestroy = OnDestroy
UISelectHeroItem.ComponentDefine = ComponentDefine
UISelectHeroItem.ComponentDestroy = ComponentDestroy
UISelectHeroItem.DataDefine = DataDefine
UISelectHeroItem.DataDestroy = DataDestroy
UISelectHeroItem.OnAddListener = OnAddListener
UISelectHeroItem.OnRemoveListener = OnRemoveListener
UISelectHeroItem.OnEnable = OnEnable
UISelectHeroItem.OnDisable = OnDisable

UISelectHeroItem.SetData = SetData
UISelectHeroItem.SetOnClick = SetOnClick
UISelectHeroItem.SetSelected = SetSelected
UISelectHeroItem.SetMarching = SetMarching
UISelectHeroItem.SetDefendingCity = SetDefendingCity
UISelectHeroItem.SetDefendingCrossWorm = SetDefendingCrossWorm
UISelectHeroItem.Refresh = Refresh
UISelectHeroItem.OnClick = OnClick

return UISelectHeroItem