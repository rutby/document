---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/5/10 12:22
---

local UISoldierSkillIIntroCell = BaseClass("UISoldierSkillIIntroCell", UIBaseContainer)
local base = UIBaseContainer

local icon_path = "skillIconBg/skillIcon"
local level_text_path = "skillIconBg/skillLvBg/lvNum"
local btn_path = ""
local select_path = "skillIconBg/Select"
-- 创建
local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

-- 销毁
local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

-- 显示
local function OnEnable(self)
    base.OnEnable(self)
end

-- 隐藏
local function OnDisable(self)
    base.OnDisable(self)
end

--控件的定义
local function ComponentDefine(self)
    self.icon = self:AddComponent(UIImage, icon_path)
    self.level_text = self:AddComponent(UIText, level_text_path)
    self.btn = self:AddComponent(UIButton, btn_path)
    self.btn:SetOnClick(function()
        SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:OnBtnClick()
    end)
    self.select = self:AddComponent(UIImage, select_path)
    self.select:SetActive(false)
end

--控件的销毁
local function ComponentDestroy(self)

end

--变量的定义
local function DataDefine(self)
    self.param = {}
end

--变量的销毁
local function DataDestroy(self)
    self.param = nil
end

-- 全部刷新
local function ReInit(self,param)
    self.param = param
    self.icon:LoadSprite(self.param.skillIcon)
    self.level_text:SetText(param.level)
end

local function OnBtnClick(self)
    if self.param.callBack then
        self.param.callBack(self.param.index)
    end
end

local function SetCurSelect(self, selectIndex)
    self.select:SetActive(selectIndex == self.param.index)
end

UISoldierSkillIIntroCell.OnCreate = OnCreate
UISoldierSkillIIntroCell.OnDestroy = OnDestroy
UISoldierSkillIIntroCell.OnEnable = OnEnable
UISoldierSkillIIntroCell.OnDisable = OnDisable
UISoldierSkillIIntroCell.ComponentDefine = ComponentDefine
UISoldierSkillIIntroCell.ComponentDestroy = ComponentDestroy
UISoldierSkillIIntroCell.DataDefine = DataDefine
UISoldierSkillIIntroCell.DataDestroy = DataDestroy
UISoldierSkillIIntroCell.ReInit = ReInit
UISoldierSkillIIntroCell.OnBtnClick = OnBtnClick
UISoldierSkillIIntroCell.SetCurSelect = SetCurSelect

return UISoldierSkillIIntroCell