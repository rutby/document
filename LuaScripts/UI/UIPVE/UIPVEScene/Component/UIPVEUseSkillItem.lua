---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2024/1/22 10:53
---

local UIPVEUseSkillItem = BaseClass("UIPVEUseSkillItem", UIBaseContainer)
local base = UIBaseContainer

local anim_path = "Eff_UI_Jinengshifang_icon/Ani"
local icon_path = "Eff_UI_Jinengshifang_icon/Ani/Icon"

local OffsetY = 140

local function OnCreate(self)
    base.OnCreate(self)
    self:DataDefine()
    self:ComponentDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function ComponentDefine(self)
    self.anim = self:AddComponent(UIAnimator, anim_path)
    self.icon_image = self:AddComponent(UIImage, icon_path)
end

local function ComponentDestroy(self)

end

local function DataDefine(self)
    
end

local function DataDestroy(self)
    
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function OnAddListener(self)
    base.OnAddListener(self)
end

local function OnRemoveListener(self)
    base.OnRemoveListener(self)
end

local function SetData(self, info)
    local screenPos = DataCenter.BattleLevel.pveCamera:WorldToScreenPoint(info.worldPos)
    screenPos.y = screenPos.y + OffsetY
    self.transform.position = screenPos
    self.anim:Play("Eff_UI_Common_Skill_Show", 0, 0)
    self.icon_image:LoadSprite(HeroUtils.GetSkillIcon(info.skillId))
end

UIPVEUseSkillItem.OnCreate= OnCreate
UIPVEUseSkillItem.OnDestroy = OnDestroy
UIPVEUseSkillItem.ComponentDefine = ComponentDefine
UIPVEUseSkillItem.ComponentDestroy = ComponentDestroy
UIPVEUseSkillItem.DataDefine = DataDefine
UIPVEUseSkillItem.DataDestroy = DataDestroy
UIPVEUseSkillItem.OnEnable = OnEnable
UIPVEUseSkillItem.OnDisable = OnDisable
UIPVEUseSkillItem.OnAddListener = OnAddListener
UIPVEUseSkillItem.OnRemoveListener = OnRemoveListener

UIPVEUseSkillItem.SetData = SetData

return UIPVEUseSkillItem