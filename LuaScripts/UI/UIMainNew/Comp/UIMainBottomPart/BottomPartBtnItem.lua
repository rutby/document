---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/12/4 20:22
---
local BottomPartBtnItem = BaseClass("BottomPartBtnItem", UIBaseContainer)
local base = UIBaseContainer

local Btn_path = "Button"
local Txt_path = "showObj/Txt"
local icon_path = "showObj/icon"
local red_dot_path = "showObj/RedDot"
local red_txt_path = "showObj/RedDot/DotText"

function BottomPartBtnItem : OnCreate()
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

function BottomPartBtnItem : OnDestroy()
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

function BottomPartBtnItem : OnEnable()
    base.OnEnable(self)
end

function BottomPartBtnItem : OnDisable()
    base.OnDisable(self)
end

function BottomPartBtnItem : ComponentDefine()
    self.Btn = self:AddComponent(UIButton, Btn_path)
    self.Btn:SetOnClick(function ()
        self:OnClickBtn()
    end)
    self.Txt = self:AddComponent(UITextMeshProUGUIEx, Txt_path)
    self.icon = self:AddComponent(UIImage, icon_path)
    self.red_obj = self:AddComponent(UIBaseComponent,red_dot_path)
    self.red_txt = self:AddComponent(UITextMeshProUGUIEx,red_txt_path)
end

function BottomPartBtnItem : ComponentDestroy()

end

function BottomPartBtnItem : DataDefine()
end

function BottomPartBtnItem : DataDestroy()
end

function BottomPartBtnItem : OnClickBtn()
    if self.btnType == UIMainFunctionInfo.Hero then
        SoundUtil.PlayEffect(SoundAssets.Music_Effect_Main_Hero)
    else
        SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
    end
    self.view.ctrl:OnBtnClick(self.btnType)
end

function BottomPartBtnItem : Refresh( btnType)
    self.btnType = btnType
    if self.btnType == UIMainFunctionInfo.Hero then
        self.Txt:SetLocalText(100275)
    else
        self.Txt:SetText("")
    end
    self:RefreshRedDot()
end

function BottomPartBtnItem : RefreshRedDot()
    if self.view == nil or self.view.ctrl == nil then
        return
    end
    if self.btnType == UIMainFunctionInfo.Hero then
        self.red_obj:SetActive(self.view.ctrl:IsShowRed(self.btnType))
    else
        local num = self.view.ctrl:GetShowRedNum(self.btnType)
        if num>0 then
            self.red_obj:SetActive(true)
            self.red_txt:SetText(num)
        else
            self.red_obj:SetActive(false)
        end
    end
    
end
return BottomPartBtnItem