---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/12/13 10:39
---
local BottomBaseItem = BaseClass("BottomBaseItem", UIBaseContainer)
local base = UIBaseContainer

local Btn_path = "Button"
local Txt_path = "Txt"
local icon_path = "icon"
local red_dot_path = "RedDot"
local red_dot_num_path = "RedDot/DotText"

function BottomBaseItem : OnCreate()
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

function BottomBaseItem : OnDestroy()
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

function BottomBaseItem : OnEnable()
    base.OnEnable(self)
end

function BottomBaseItem : OnDisable()
    base.OnDisable(self)
end

function BottomBaseItem : ComponentDefine()
    self.Btn = self:AddComponent(UIButton, Btn_path)
    self.Btn:SetOnClick(function ()
        SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:OnClickBtn()
    end)
    self.Txt = self:AddComponent(UITextMeshProUGUIEx, Txt_path)
    self.icon = self:AddComponent(UIImage, icon_path)
    self.red = self:AddComponent(UIBaseComponent,red_dot_path)
    self.red_dot_num = self:AddComponent(UITextMeshProUGUIEx, red_dot_num_path)
end

function BottomBaseItem : ComponentDestroy()

end

function BottomBaseItem : DataDefine()
end

function BottomBaseItem : DataDestroy()
end

function BottomBaseItem : OnClickBtn()
    self.view.ctrl:OnBtnClick(self.btnType)
end

function BottomBaseItem : Refresh( btnType)
    self.btnType = btnType
    self:RefreshRedDot()
end

function BottomBaseItem: RefreshRedDot()
    if self.btnType == UIMainFunctionInfo.Radar then
        local show = self.view.ctrl:IsShowRed(self.btnType)
        self.red:SetActive(show)
        self.red_dot_num:SetText(self.view.ctrl:GetShowRedNum(self.btnType))
    elseif self.btnType == UIMainFunctionInfo.Notice then
        self.red:SetActive(true)
        self.red_dot_num:SetActive(false)
    elseif self.btnType == UIMainFunctionInfo.MonsterReward then
        self.red:SetActive(true)
        self.red_dot_num:SetActive(true)
        self.red_dot_num:SetText(self.view.ctrl:GetShowRedNum(self.btnType))
    elseif self.btnType == UIMainFunctionInfo.Story then
        local show = self.view.ctrl:IsShowRed(self.btnType)
        self.red:SetActive(show)
        self.red_dot_num:SetActive(false)
    end
end


return BottomBaseItem