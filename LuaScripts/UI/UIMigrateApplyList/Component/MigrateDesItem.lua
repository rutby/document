---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/4/27 18:38
---
local MigrateDesItem = BaseClass("MigrateDesItem", UIBaseContainer)
local base = UIBaseContainer
local Localization = CS.GameEntry.Localization
local title_path = "Root/img/TextTitle"
local root_path ="Root"
local des_1_path = "Root/Content/checkItem/des1"
local des_2_path = "Root/Content/checkItem/des2"
local des_path = "Root/Content/nameDesLayout/des"
local function OnCreate(self)
    base.OnCreate(self)
    self:DataDefine()
    self:ComponentDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function ComponentDefine(self)
    self.title = self:AddComponent(UIText,title_path)
    self.title:SetText(Localization:GetString("250393"))
    self.root = self:AddComponent(UIBaseContainer,root_path)
    self.des_1 = self:AddComponent(UIText,des_1_path)
    self.des_1:SetLocalText(100185)
    self.des_2 = self:AddComponent(UIText,des_2_path)
    self.des_2:SetLocalText(110136)
    self.des = self:AddComponent(UIText,des_path)
    self.close_btn = self:AddComponent(UIButton, "Panel")
    self.close_btn:SetOnClick(function()
        self.view:HideTips()
    end)

end

local function ComponentDestroy(self)
    self.title = nil
    self.name = nil
    self.num = nil
end

local function DataDefine(self)
end

local function DataDestroy(self)
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function RefreshCondition(self,season)
    local limitNum = LuaEntry.DataConfig:TryGetNum("aps_migrate_server", "k1")
    local serverLimit = LuaEntry.DataConfig:TryGetStr("aps_migrate_server", "k6")
    local arr = string.split(serverLimit,";")
    if arr~=nil and #arr>0 then
        local seasonId = season
        if seasonId>#arr then
            seasonId = #arr
        end
        limitNum = tonumber(arr[seasonId])
    end
    local num = LuaEntry.DataConfig:TryGetNum("aps_migrate_server", "k3")
    local des = Localization:GetString("250334",string.GetFormattedSeperatorNum(limitNum),num)
    self.des:SetText(des)
end

local function OnSetPos(self,pos)
    self.root.transform.position = pos
end


MigrateDesItem.OnCreate= OnCreate
MigrateDesItem.OnDestroy = OnDestroy
MigrateDesItem.ComponentDefine = ComponentDefine
MigrateDesItem.ComponentDestroy = ComponentDestroy
MigrateDesItem.DataDefine = DataDefine
MigrateDesItem.DataDestroy = DataDestroy
MigrateDesItem.OnEnable = OnEnable
MigrateDesItem.OnDisable = OnDisable
MigrateDesItem.RefreshCondition = RefreshCondition
MigrateDesItem.OnSetPos = OnSetPos
return MigrateDesItem