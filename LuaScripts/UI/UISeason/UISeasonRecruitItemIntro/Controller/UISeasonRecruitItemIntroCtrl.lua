---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/1/6 15:53
---
local UISeasonRecruitItemIntroCtrl = BaseClass("UISeasonRecruitItemIntroCtrl", UIBaseCtrl)

local function CloseSelf(self, tipParam)
    UIManager:GetInstance():DestroyWindow(UIWindowNames.UISeasonRecruitItemIntro)
    if tipParam ~= nil then
        if tipParam.itemId ~= nil then
            local param = {}
            param["itemId"] = tipParam.itemId
            param["alignObject"] = tipParam.item_icon
            UIManager:GetInstance():OpenWindow(UIWindowNames.UIItemTips,{anim = true}, param)
        end
    end
end

local function GetLotteryData(self, itemId)
    local result = nil
    LocalController:instance():visitTable(TableName.HeroRecruit, function(id, lineData)
        if result == nil then
            local itemStr = lineData["item"]
            if not string.IsNullOrEmpty(itemStr) then
                local vec = string.split(itemStr, "|")
                if table.count(vec) > 0 then
                    local itemVec = string.split(vec[1], ";")
                    if itemVec[1] == itemId then
                        result = DeepCopy(lineData)
                    end
                end
            end
        end
    end)
    return result or {}
end


local function IsNotNormal(self, data)
    if data == nil then
        return false
    end
    return data.display_type ~= LotteryDisPlayType.LotteryDisPlayType_Normal_And_Expert
end

local function GetTextColor(self, data)
    if data.id == "221523" or data.id == "221524" then
        return Color.New(96/255, 210/255, 200/255, 1)
    end
    return Color.New(252/255, 214/255, 81/255, 1)
end

local function GetTextShadowColor(self, data)
    if data.id == "221523" or data.id == "221524" then
        return Color.New(26/255, 96/255, 122/255, 1)
    end
    return Color.New(46/255, 47/255, 68/255, 1)
end

UISeasonRecruitItemIntroCtrl.IsNotNormal = IsNotNormal
UISeasonRecruitItemIntroCtrl.GetTextColor = GetTextColor
UISeasonRecruitItemIntroCtrl.GetTextShadowColor = GetTextShadowColor
UISeasonRecruitItemIntroCtrl.CloseSelf = CloseSelf
UISeasonRecruitItemIntroCtrl.GetLotteryData = GetLotteryData

return UISeasonRecruitItemIntroCtrl