---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2022/2/17 20:08
---
local UIHeroCell = require "UI.UIHero2.Common.UIHeroCellSmall"
local ChatHeroItem = BaseClass("ChatHeroItem", UIBaseContainer)
local base = UIBaseContainer
local Localization = CS.GameEntry.Localization
local hero_path = "UIHeroCellSmall"
local empty_path = "Image"
-- 创建
local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

-- 销毁
local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

-- 显示
local function OnEnable(self)
    base.OnEnable(self)
end

-- 隐藏
local function OnDisable(self)
    base.OnDisable(self)
end


--控件的定义
local function ComponentDefine(self)
    self.heroBase = self:AddComponent(UIHeroCell,hero_path)
    self.empty_obj = self:AddComponent(UIBaseContainer, empty_path)
end

--控件的销毁
local function ComponentDestroy(self)
    self.heroBase = nil
    self.empty_obj = nil
end

--变量的定义
local function DataDefine(self)
    self.param = {}
end

--变量的销毁
local function DataDestroy(self)
    self.param = nil
end

-- 全部刷新
local function ReInit(self,heroData)
    self.heroData = heroData
    if heroData~=nil then
        self.heroBase:SetActive(true)
        local rarity = GetTableData(HeroUtils.GetHeroXmlName(),self.heroData.heroId, "rarity")
        local isWakeUp = HeroUtils.GetIsWakeUp(rarity,self.heroData.skillList,self.heroData.heroId,self.heroData.quality)
        self.heroBase:InitWithConfigId(self.heroData.heroId,self.heroData.quality,self.heroData.heroLv,nil,nil,self.heroData.rankId,isWakeUp, nil, HeroUtils.GetCamp(self.heroData))
    else
        self.heroBase:SetActive(false)
    end
end


ChatHeroItem.OnCreate = OnCreate
ChatHeroItem.OnDestroy = OnDestroy
ChatHeroItem.OnEnable = OnEnable
ChatHeroItem.OnDisable = OnDisable
ChatHeroItem.ComponentDefine = ComponentDefine
ChatHeroItem.ComponentDestroy = ComponentDestroy
ChatHeroItem.DataDefine = DataDefine
ChatHeroItem.DataDestroy = DataDestroy
ChatHeroItem.ReInit = ReInit
return ChatHeroItem
