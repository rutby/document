---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/3/20 18:17
---

local UIPositionAppointSearchCtrl = BaseClass("UIPositionAppointSearchCtrl", UIBaseCtrl)

local function CloseSelf(self)
    UIManager:GetInstance():DestroyWindow(UIWindowNames.UIPositionAppointSearch)
end

local function GetPanelData(self)
    local showList = {}
    local all = DataCenter.AllianceMemberDataManager:GetAllMember()
    if all ~= nil then
        local list = table.values(all)
        for _, v in pairs(list) do
            if v.uid ~= LuaEntry.Player.uid then
                local oneData = {}
                oneData.uid = v.uid
                oneData.power = v.power
                oneData.name = v.name
                oneData.rank = v.rank
                oneData.headSkinId = v.headSkinId
                oneData.headSkinET = v.headSkinET
                oneData.pic = v.pic
                oneData.picVer = v.picVer
                table.insert(showList,oneData)
            end
        end
    end
    table.sort(showList, function (k, v)
        return k.rank > v.rank
    end)
    return showList
end

UIPositionAppointSearchCtrl.CloseSelf = CloseSelf
UIPositionAppointSearchCtrl.GetPanelData = GetPanelData

return UIPositionAppointSearchCtrl