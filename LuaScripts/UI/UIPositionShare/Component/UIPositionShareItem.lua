---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Still4.
--- DateTime: 2021/7/2 11:56
---
local UIPositionShareItem = BaseClass("UIPositionShareItem", UIBaseContainer)
local base = UIBaseContainer
local btn_path = "ImgBg"
local flag_path = "ImgBg/Flag"
local channel_name_path = "ImgBg/ChannelName"
local userHead = "ImgBg/UIPlayerHead"
local function OnCreate(self)
    base.OnCreate(self)
    self.userHead = self:AddComponent(UIPlayerHead, userHead)
    self.btn = self:AddComponent(UIButton, btn_path)
    self.btn:SetOnClick(function()  
SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:OnItemClick()
    end)
    self.flag = self:AddComponent(UIImage, flag_path)
    self.channel_name_txt = self:AddComponent(UITextMeshProUGUIEx, channel_name_path)
end

local function SetItemShow(self, data)
    self.data = data
    --local group = self.data:getRoomGroup()
    --local img = "Common_img_chat_world"
    --if group == 0 then
    --    img = "Common_img_chat_world"
    --elseif group == 1 then
    --    img = "Common_img_chat_alliance"
    --end
    --self.flag:LoadSprite(img)
    local roomImg = self.data:getRoomImg()
    if (string.IsNullOrEmpty(roomImg)) then
        self.flag:SetActive(false)
        self.userHead:SetActive(true)
    else
        self.flag:SetActive(true)
        self.userHead:SetActive(false)
        self.flag:LoadSprite(self.data:getRoomImg())
    end
    
    self.channel_name_txt:SetText(self.data:getRoomName())
end

local function OnItemClick(self)
    self.view:OnItemClick(self.data)
end

UIPositionShareItem.OnCreate = OnCreate
UIPositionShareItem.SetItemShow = SetItemShow
UIPositionShareItem.OnItemClick = OnItemClick

return UIPositionShareItem