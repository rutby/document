---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/2/27 15:59
---

local UIHeroIntensifyOpen = BaseClass("UIHeroIntensifyOpen", UIBaseView)
local base = UIBaseView
local UIHeroIntensifyItem = require "UI.UIHeroIntensify.Component.UIHeroIntensifyItem"

local close_path = "UICommonRewardPopUp/Panel"
local title_path = "UICommonRewardPopUp/Panel/ImgTitleBg/TextTitle"
local item_path = "Root/UIHeroIntensifyItem"

local function OnCreate(self)
    base.OnCreate(self)
    self:DataDefine()
    self:ComponentDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function OnEnable(self)
    base.OnEnable(self)
    self:ReInit()
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function ComponentDefine(self)
    self.close_btn = self:AddComponent(UIButton, close_path)
    self.close_btn:SetOnClick(function()
        self:Close()
    end)
    self.title_text = self:AddComponent(UIText, title_path)
    self.title_text:SetLocalText(136022)
    self.item = self:AddComponent(UIHeroIntensifyItem, item_path)
end

local function ComponentDestroy(self)
    self.close_btn = nil
    self.title_text = nil
    self.item = nil
end

local function DataDefine(self)
    self.id = 0
end

local function DataDestroy(self)
    self.id = nil
end

local function OnAddListener(self)
    base.OnAddListener(self)
end

local function OnRemoveListener(self)
    base.OnRemoveListener(self)
end

local function ReInit(self)
    self.id = self:GetUserData()
    self.item:SetData(self.id)
    self.item:ShowNameOnly()
    self.item:ShowLine(false)
    SoundUtil.PlayEffect(SoundAssets.Music_Effect_Ue_Unclock)
end

local function Close(self)
    UIManager:GetInstance():OpenWindow(UIWindowNames.UIHeroIntensifyDetail, { anim = true }, self.id, true)
    self.ctrl:CloseSelf()
end

UIHeroIntensifyOpen.OnCreate = OnCreate
UIHeroIntensifyOpen.OnDestroy = OnDestroy
UIHeroIntensifyOpen.OnEnable = OnEnable
UIHeroIntensifyOpen.OnDisable = OnDisable
UIHeroIntensifyOpen.ComponentDefine = ComponentDefine
UIHeroIntensifyOpen.ComponentDestroy = ComponentDestroy
UIHeroIntensifyOpen.DataDefine = DataDefine
UIHeroIntensifyOpen.DataDestroy = DataDestroy
UIHeroIntensifyOpen.OnAddListener = OnAddListener
UIHeroIntensifyOpen.OnRemoveListener = OnRemoveListener

UIHeroIntensifyOpen.ReInit = ReInit
UIHeroIntensifyOpen.Close = Close

return UIHeroIntensifyOpen