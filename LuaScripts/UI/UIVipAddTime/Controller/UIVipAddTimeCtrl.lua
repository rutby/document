---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 4/2/2024 上午10:06
---
local UIVipAddTimeCtrl = BaseClass("UIFormationStateCtrl", UIBaseCtrl)

local function CloseSelf(self)
    UIManager:GetInstance():DestroyWindow(UIWindowNames.UIVipAddTime)
end

local function Close(self)
    UIManager:GetInstance():DestroyWindowByLayer(UILayer.Normal)
end

local function GetItemList(self)
    local showList = {}
    local monthCardInfo = DataCenter.MonthCardNewManager:GetGolloesMonthCard()
    if monthCardInfo~=nil then
        local giftP = monthCardInfo:GetPackageData()
        if giftP~=nil then
            local oneData = {}
            oneData.type = "MonthCard"
            oneData.isBought = monthCardInfo:IsBought()
            table.insert(showList,oneData)
        end
    end
    local list = DataCenter.ItemTemplateManager:GetTypeListByType(GOODS_TYPE.GOODS_TYPE_202)
    if list~=nil and #list>0 then
        table.sort(list,function(a,b)
            local id1 = toInt(a.id)
            local id2 = toInt(b.id)
            if id1 < id2 then
                return true
            end
        end)
        for i =1,#list do
            local oneData = {}
            oneData.type = "Buy"
            oneData.data = list[i]
            table.insert(showList,oneData)
        end
    end
    return showList
end


UIVipAddTimeCtrl.CloseSelf = CloseSelf
UIVipAddTimeCtrl.Close = Close
UIVipAddTimeCtrl.GetItemList = GetItemList
return UIVipAddTimeCtrl