---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/2/28 15:10
---LeagueMatchDrawLotsItem.lua

local LocalTb = BaseClass("LeagueMatchDrawLotsItem", UIBaseContainer)
local base = UIBaseContainer
local Localization = CS.GameEntry.Localization
local AllianceFlagItem = require "UI.UIAlliance.UIAllianceFlag.Component.AllianceFlagItem"

local bgImgL_path = "allianceL"
local alPositionL_path = "allianceL/positionL"
local alFlagL_path = "allianceL/AllianceFlagL"
local alDefaultFlagL_path = "allianceL/defaultFlagL"
local alNameL_path = "allianceL/nameL"
local alEmptyL_path = "allianceL/emptyL"
local bgImgR_path = "allianceR"
local alPositionR_path = "allianceR/positionR"
local alFlagR_path = "allianceR/AllianceFlagR"
local alDefaultFlagR_path = "allianceR/defaultFlagR"
local alNameR_path = "allianceR/nameR"
local alEmptyR_path = "allianceR/emptyR"

-- 创建
local function OnCreate(self)
    base.OnCreate(self)
    self:DataDefine()
    self:ComponentDefine()
end

-- 销毁
local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

--控件的定义
local function ComponentDefine(self)
    self.bgImgLN = self:AddComponent(UIImage, bgImgL_path)
    self.alLPositionN = self:AddComponent(UITextMeshProUGUIEx, alPositionL_path)
    self.alLFlagN = self:AddComponent(AllianceFlagItem, alFlagL_path)
    self.alDefaultFlagLN = self:AddComponent(UIBaseContainer, alDefaultFlagL_path)
    self.alLNameN = self:AddComponent(UITextMeshProUGUIEx, alNameL_path)
    self.alLEmptyN = self:AddComponent(UITextMeshProUGUIEx, alEmptyL_path)
    self.alLEmptyN:SetLocalText("372622")
    self.bgImgRN = self:AddComponent(UIImage, bgImgR_path)
    self.alRPositionN = self:AddComponent(UITextMeshProUGUIEx, alPositionR_path)
    self.alRFlagN = self:AddComponent(AllianceFlagItem, alFlagR_path)
    self.alDefaultFlagRN = self:AddComponent(UIBaseContainer, alDefaultFlagR_path)
    self.alRNameN = self:AddComponent(UITextMeshProUGUIEx, alNameR_path)
    self.alREmptyN = self:AddComponent(UITextMeshProUGUIEx, alEmptyR_path)
    self.alREmptyN:SetLocalText("372622")
end

--控件的销毁
local function ComponentDestroy(self)
    self.alLPositionN = nil
    self.alLNameN = nil
    self.alLEmptyN = nil
    self.alRPositionN = nil
    self.alRNameN = nil
    self.alREmptyN = nil
end

--变量的定义
local function DataDefine(self)
    
end

--变量的销毁
local function DataDestroy(self)
    
end

local function OnAddListener(self)
    base.OnAddListener(self)
    --self:AddUIListener(EventId.OnClaimRewardEffFinish, self.RefreshNeed)
end

local function OnRemoveListener(self)
    --self:RemoveUIListener(EventId.OnClaimRewardEffFinish, self.RefreshNeed)
    base.OnRemoveListener(self)
end


--param = {showChallenge = false,}
local function SetItem(self, posL, posR, alL, alR)
    self.alLPositionN:SetText(posL)
    self.alRPositionN:SetText(posR)
    self.bgImgLN:SetColor(Color.New(1, 1, 1, 1))
    if alL then
        self.alLNameN:SetActive(true)
        self.alLEmptyN:SetActive(false)
        self.alLFlagN:SetActive(true)
        self.alDefaultFlagLN:SetActive(false)
        if alL.fake == 1 then
            self.alLNameN:SetLocalText("372814")
        else
            self.alLNameN:SetText("[" .. alL.abbr .. "] " .. alL.name)
        end
        self.alLFlagN:SetData(alL.icon)
        if alL.allianceId == LuaEntry.Player.allianceId then
            self.bgImgLN:LoadSprite("Assets/Main/Sprites/UI/UIAllianceCompete/UIleagueduel_img_cup_backcloth02.png")
        else
            self.bgImgLN:LoadSprite("Assets/Main/Sprites/UI/UIAllianceCompete/UIleagueduel_img_cup_backcloth03.png")
        end
    else
        self.alLNameN:SetActive(false)
        self.alLEmptyN:SetActive(true)
        self.alLFlagN:SetActive(false)
        self.alDefaultFlagLN:SetActive(true)
        self.bgImgLN:LoadSprite("Assets/Main/Sprites/UI/UIAllianceCompete/UIleagueduel_img_cup_backcloth03.png")
        self.bgImgLN:SetColor(Color.New(1, 1, 1, 0.6))

    end

    if alR then
        self.alRNameN:SetActive(true)
        self.alREmptyN:SetActive(false)
        self.alRFlagN:SetActive(true)
        self.alDefaultFlagRN:SetActive(false)
        if alR.fake == 1 then
            self.alRNameN:SetLocalText("372814")
        else
            self.alRNameN:SetText("[" .. alR.abbr .. "] " .. alR.name)
        end
        self.alRFlagN:SetData(alR.icon)
        if alR.allianceId == LuaEntry.Player.allianceId then
            self.bgImgRN:LoadSprite("Assets/Main/Sprites/UI/UIAllianceCompete/UIleagueduel_img_cup_backcloth02.png")
        else
            self.bgImgRN:LoadSprite("Assets/Main/Sprites/UI/UIAllianceCompete/UIleagueduel_img_cup_backcloth03.png")
        end
    else
        self.alREmptyN:SetActive(true)
        self.alRNameN:SetActive(false)
        self.alRFlagN:SetActive(false)
        self.alDefaultFlagRN:SetActive(true)
        self.bgImgRN:LoadSprite("Assets/Main/Sprites/UI/UIAllianceCompete/UIleagueduel_img_cup_backcloth03.png")
    end
end


LocalTb.OnCreate = OnCreate
LocalTb.OnDestroy = OnDestroy
LocalTb.ComponentDefine = ComponentDefine
LocalTb.ComponentDestroy = ComponentDestroy
LocalTb.DataDefine = DataDefine
LocalTb.DataDestroy = DataDestroy
LocalTb.OnAddListener = OnAddListener
LocalTb.OnRemoveListener = OnRemoveListener

LocalTb.SetItem = SetItem
LocalTb.RefreshAll = RefreshAll

return LocalTb