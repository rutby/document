---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/8/3 16:06
---

local UIEdenChooseCityCtrl = BaseClass("UIEdenChooseCityCtrl", UIBaseCtrl)

local function CloseSelf(self)
    UIManager:GetInstance():DestroyWindow(UIWindowNames.UIEdenChooseCity)
end

local function Close(self)
    UIManager.Instance:DestroyWindowByLayer(UILayer.Normal, false)
end

local function GetNearCityList(self,cityId)
    local list = {}
    local nearStr = GetTableData(TableName.WorldCity,cityId,"nearBy")
    if nearStr~=nil and nearStr~="" then
        local nearList = string.split(nearStr,"|")
        if #nearList>0 then
            for i =1,#nearList do
                local oneCityId  =nearList[i]
                local template = DataCenter.AllianceCityTemplateManager:GetTemplate(oneCityId)
                if template~=nil then
                    local oneData = {}
                    oneData.cityId = oneCityId
                    oneData.cityName = template.name
                    oneData.centerV2 = template.center
                    table.insert(list,oneData)
                end
            end
        end
    end
    return list
end
UIEdenChooseCityCtrl.CloseSelf = CloseSelf
UIEdenChooseCityCtrl.Close = Close
UIEdenChooseCityCtrl.GetNearCityList = GetNearCityList
return UIEdenChooseCityCtrl