---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2022/10/13 11:33
---


local UIHeroPosterExchangeCell = BaseClass("UIHeroPosterExchangeCell", UIBaseContainer)
local base = UIBaseContainer
local UIHeroCell = require "UI.UIHero2.Common.UIHeroCellSmall"
-- 创建
local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
end

-- 销毁
local function OnDestroy(self)
    self:ComponentDestroy()
    base.OnDestroy(self)
end

-- 显示
local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function ComponentDefine(self)
    self.heroCell = self:AddComponent(UIHeroCell, "UIHeroCellSmall")
    self.numText = self:AddComponent(UIText, "UIHeroCellSmall/NumText")
    self.btn = self:AddComponent(UIButton, "UIHeroCellSmall")
    self.btn:SetOnClick(function()
        SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:OnBtnClick()
    end)
end

local function ComponentDestroy(self)

end

local function SetData(self, param, clickFun)
    self.param = param
    self.heroCell:InitWithConfigIdByPoster(self.param.heroId)
    self.numText:SetText(string.GetFormattedSeperatorNum(self.param.count))
    self.clickFun = clickFun
end

local function OnBtnClick(self)
    if self.clickFun ~= nil then
        self.clickFun(self.param)
    end
end

UIHeroPosterExchangeCell.OnCreate = OnCreate
UIHeroPosterExchangeCell.OnDestroy = OnDestroy
UIHeroPosterExchangeCell.OnEnable = OnEnable
UIHeroPosterExchangeCell.OnDisable = OnDisable
UIHeroPosterExchangeCell.ComponentDefine = ComponentDefine
UIHeroPosterExchangeCell.ComponentDestroy = ComponentDestroy
UIHeroPosterExchangeCell.SetData = SetData
UIHeroPosterExchangeCell.OnBtnClick = OnBtnClick

return UIHeroPosterExchangeCell
