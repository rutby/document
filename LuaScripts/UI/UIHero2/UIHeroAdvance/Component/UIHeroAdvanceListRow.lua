---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2022/5/26 13:13
---


local UIHeroAdvanceListRow = BaseClass('UIHeroAdvanceListRow', UIBaseContainer)
local base = UIBaseContainer
local ColMax = 4
local UIHeroAdvanceCell = require("UI.UIHero2.UIHeroAdvance.Component.UIHeroAdvanceCell")

local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    base.OnDestroy(self)
end

local function ComponentDefine(self)
    self.cellObjList = {}
    for k = 1, ColMax do
        local cell = self:AddComponent(UIHeroAdvanceCell, 'HeroCell' .. k)
        table.insert(self.cellObjList, cell)
    end
end

local function ComponentDestroy(self)
    self.cellObjList = nil
end

local function SetData(self, uuidList, clickFunc, pointer, newAdvance, showAdvanceParticle, maxMasterAdvanceRarity, index)
    self.index = index
    for k, cell in ipairs(self.cellObjList) do
        local heroData = uuidList[k]
        cell:SetActive(heroData ~= nil)
        if heroData ~= nil then
            cell:SetData(heroData.uuid, pointer[heroData.uuid] ~= nil, nil, newAdvance ~= nil and newAdvance[heroData.uuid] ~= nil, showAdvanceParticle, maxMasterAdvanceRarity)
        end
    end
end

local function GetCellPos(self)
    return self.cellObjList[1]:GetCellPos()
end

local function GetCellSizeDelta(self)
    return self.cellObjList[1]:GetCellSizeDelta()
end

local function GetHeroCellAdvanceGuideBtn(self, pointer)
    for _, v in ipairs(self.cellObjList) do
        local heroData = v.heroData
        if heroData ~= nil then
            if pointer[heroData.uuid] ~= nil then
                return v:GetGuideClickBtn()
            end
        end
    end
    return nil
end

local function GetDogFoodGuideBtn(self)
    for _, v in ipairs(self.cellObjList) do
        local btn = v:GetDogFoodGuideBtn()
        if btn ~= nil then
            return btn
        end
    end
    return nil
end


UIHeroAdvanceListRow.OnCreate= OnCreate
UIHeroAdvanceListRow.OnDestroy = OnDestroy
UIHeroAdvanceListRow.ComponentDefine = ComponentDefine
UIHeroAdvanceListRow.ComponentDestroy = ComponentDestroy
UIHeroAdvanceListRow.SetData = SetData
UIHeroAdvanceListRow.GetCellPos = GetCellPos
UIHeroAdvanceListRow.GetCellSizeDelta = GetCellSizeDelta
UIHeroAdvanceListRow.GetHeroCellAdvanceGuideBtn = GetHeroCellAdvanceGuideBtn
UIHeroAdvanceListRow.GetDogFoodGuideBtn = GetDogFoodGuideBtn

return UIHeroAdvanceListRow
