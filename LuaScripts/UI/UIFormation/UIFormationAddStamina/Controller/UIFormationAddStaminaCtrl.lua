---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 24224.
--- DateTime: 2022/5/30 21:20
---
local UIFormationAddStaminaCtrl = BaseClass("UIFormationStateCtrl", UIBaseCtrl)

local function CloseSelf(self)
    UIManager:GetInstance():DestroyWindow(UIWindowNames.UIFormationAddStamina)
end

local function Close(self)
    UIManager:GetInstance():DestroyWindowByLayer(UILayer.Normal)
end

local function GetItemList(self)
    local showList = {}
    local tempData = {}
    tempData.type = "Gold"
    table.insert(showList,tempData)
    local list = DataCenter.ItemData:GetItemList(GOODS_TYPE.GOODS_TYPE_3,GOODS_TYPE2.StaminaItem)
    if list~=nil and #list>0 then
        table.sort(list,function(a,b)
            local goodsTemplate1 = DataCenter.ItemTemplateManager:GetItemTemplate(a.itemId)
            local goodsTemplate2 = DataCenter.ItemTemplateManager:GetItemTemplate(b.itemId)
            if goodsTemplate1 == nil then
                return false
            elseif goodsTemplate2 == nil then
                return true
            else
                if goodsTemplate1.order > goodsTemplate2.order then
                    return false
                elseif goodsTemplate1.order < goodsTemplate2.order then
                    return true
                else
                    local id1 = tonumber(a.itemId)
                    local id2 = tonumber(b.itemId)
                    if id1 > id2 then
                        return true
                    elseif id1 < id2 then
                        return false
                    end
                end
            end
            return false
        end)
        for i =1,#list do
            local data = list[i]
            if data.count>0 then
                local oneData = {}
                oneData.type = "Free"
                oneData.data = list[i]
                table.insert(showList,oneData)
            end
        end
    end
    return showList
end

UIFormationAddStaminaCtrl.CloseSelf = CloseSelf
UIFormationAddStaminaCtrl.Close = Close
UIFormationAddStaminaCtrl.GetItemList = GetItemList
return UIFormationAddStaminaCtrl