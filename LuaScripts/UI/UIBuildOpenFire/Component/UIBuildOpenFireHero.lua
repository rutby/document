---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/11/24 12:23
---

local UIBuildOpenFireHero = BaseClass("UIBuildOpenFireHero", UIBaseContainer)
local base = UIBaseContainer
local UIGray = CS.UIGray

local select_path = "Selected"
local lock_path = "lock"
local image_path = "RawImage"
local btn_path = "Button"

local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function ComponentDefine(self)
    self.select_go = self:AddComponent(UIBaseContainer, select_path)
    self.lock_go = self:AddComponent(UIBaseContainer, lock_path)
    self.image = self:AddComponent(UIImage, image_path)
    self.btn = self:AddComponent(UIButton, btn_path)
    self.btn:SetOnClick(function()
        self:OnClick()
    end)
end

local function ComponentDestroy(self)

end

local function DataDefine(self)
    self.data = nil
    self.onClick = nil
end

local function DataDestroy(self)

end

local function OnAddListener(self)
    base.OnAddListener(self)
end

local function OnRemoveListener(self)
    base.OnRemoveListener(self)
end

local function SetData(self, data)
    self.data = data
    self.select_go:SetActive(data.isOn)
    self.lock_go:SetActive(not self.data.unlocked)
    UIGray.SetGray(self.image.transform, not self.data.unlocked, false)
end

local function SetOnClick(self, onClick)
    self.onClick = onClick
end

local function OnClick(self)
    if self.data.unlocked and self.onClick() then
        self.onClick(self.data)
    end
end

UIBuildOpenFireHero.OnCreate = OnCreate
UIBuildOpenFireHero.OnDestroy = OnDestroy
UIBuildOpenFireHero.OnEnable = OnEnable
UIBuildOpenFireHero.OnDisable = OnDisable
UIBuildOpenFireHero.ComponentDefine = ComponentDefine
UIBuildOpenFireHero.ComponentDestroy = ComponentDestroy
UIBuildOpenFireHero.DataDefine = DataDefine
UIBuildOpenFireHero.DataDestroy = DataDestroy
UIBuildOpenFireHero.OnAddListener = OnAddListener
UIBuildOpenFireHero.OnRemoveListener = OnRemoveListener

UIBuildOpenFireHero.SetData = SetData
UIBuildOpenFireHero.SetOnClick = SetOnClick
UIBuildOpenFireHero.OnClick = OnClick

return UIBuildOpenFireHero