---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/4/13 17:11
---
local UISetScreenResolutionView = BaseClass("UISetScreenResolutionView",UIBaseView)
local base = UIBaseView
local Localization = CS.GameEntry.Localization

local txt_title_path ="UICommonMiniPopUpTitle/Bg_mid/titleText"
local close_btn_path = "UICommonMiniPopUpTitle/Bg_mid/CloseBtn"
local return_btn_path = "UICommonMiniPopUpTitle/panel"
local toggle_path = "ScrollView/Viewport/Content/item"
local confirmBtn_path = "enterBtn"
local confirmBtnTxt_path = "enterBtn/enterText"
--创建
local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

-- 销毁
local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function ComponentDefine(self)
    self.txt_title = self:AddComponent(UITextMeshProUGUIEx, txt_title_path)
    self.close_btn = self:AddComponent(UIButton, close_btn_path)
    self.return_btn = self:AddComponent(UIButton, return_btn_path)
    self.curIndex = self.ctrl:GetCurIndex()
    self.toggleList = {}
    for i = 1, 5 do
        local togglePath = toggle_path .. i
        local tempTog = self:AddComponent(UIToggle, togglePath)
        tempTog:SetIsOn(i == self.curIndex)
        table.insert(self.toggleList, tempTog)
    end

    for i = 1, #self.toggleList do
        local toggle = self.toggleList[i]
        toggle:SetOnValueChanged(function(tf)
            if tf then
                self:SetSelectedIndex(i)
            end
        end)
    end

    self.close_btn:SetOnClick(function()
        self.ctrl:CloseSelf()
    end)
    self.return_btn:SetOnClick(function()
        self.ctrl:CloseSelf()
    end)

    self.confirmBtnN = self:AddComponent(UIButton, confirmBtn_path)
    self.confirmBtnN:SetOnClick(function()
        self:OnClickConfirmBtn()
    end)
    self.confirmBtnTxtN = self:AddComponent(UIText, confirmBtnTxt_path)
    self.confirmBtnTxtN:SetText(Localization:GetString("110006"))
end

local function ComponentDestroy(self)
    self.txt_title = nil
    self.close_btn = nil
    self.return_btn = nil
    self.scroll_view = nil
end


local function DataDefine(self)
end

local function DataDestroy(self)
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end


local function SetSelectedIndex(self, tempIndex)
    self.curSelectIndex = tempIndex
end

local function OnClickConfirmBtn(self)
    self.ctrl:OnSetClick(self.curSelectIndex)
end

UISetScreenResolutionView.OnCreate= OnCreate
UISetScreenResolutionView.OnDestroy = OnDestroy
UISetScreenResolutionView.OnEnable = OnEnable
UISetScreenResolutionView.OnDisable = OnDisable
UISetScreenResolutionView.ComponentDefine = ComponentDefine
UISetScreenResolutionView.ComponentDestroy = ComponentDestroy
UISetScreenResolutionView.DataDefine = DataDefine
UISetScreenResolutionView.DataDestroy = DataDestroy
UISetScreenResolutionView.SetSelectedIndex =SetSelectedIndex
UISetScreenResolutionView.OnClickConfirmBtn= OnClickConfirmBtn
return UISetScreenResolutionView