---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2023/3/9 20:46
---
local NewsEventItem = BaseClass("NewsEventItem", UIBaseContainer)
local base = UIBaseContainer
local Localization = CS.GameEntry.Localization
local this_path = ""
local quality_img_path = "Root/Item_All/Detect_Event_Quality_Img"
local detect_event_point_path = "Root/Detect_event_point"         
local event_img_path = "Root/Item_All/Detect_Event_Img"
local item_all_path = "Root/Item_All"
local root_path = "Root"
local function OnCreate(self)
    base.OnCreate(self)

    self:DataDefine()
    self:ComponentDefine()
end

local function ComponentDefine(self)
    self.event_trigger = self:AddComponent(UIEventTrigger, this_path)
    self.event_trigger:OnPointerDown(function(eventData)
        self:OnPointerDown(eventData)
    end)
    self.root = self:AddComponent(UIBaseContainer, root_path)
    self.quality_img = self:AddComponent(UIImage, quality_img_path)
    self.event_img = self:AddComponent(UIImage, event_img_path)
    self.item_all = self:AddComponent(UIBaseContainer, item_all_path)
    self.detect_event_point = self:AddComponent(UIImage, detect_event_point_path)
end


local function PlayShowAnimation(self)
    DOTween.Play(self.gameObject)
end

local function DataDefine(self)
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function ComponentDestroy(self)
    self.event_trigger = nil
    self.quality_img = nil
    self.select_img = nil
    self.event_img = nil
    self.complete_img = nil
    self.item_all = nil
    self.detect_event_point = nil
end

local function DataDestroy(self)
    self.lastPlayEffectTime = nil
end

local function SetUuid(self, param, selectId)
    self.param = param
    self.selectId = selectId
    self:Refresh()
end

local function SetSelectUuid(self, selectId)
    self.selectId = selectId
    self:Refresh()
end

local function OnPointerDown(self, eventData)
    if self.param.pointId ~= nil then
        self.view:SetCurrentSelectNewPoint(self.param.pointId)
    end
end

local function Refresh(self)
    if self.param.pointId == self.selectId then
        DOTween.Restart(self.item_all.gameObject)
        self.item_all.transform:DOLocalMove(Vector3.New(0, 20, 0), 0.25)
    end
    if self.param.pointId ~= self.selectId then
        DOTween.Rewind(self.item_all.gameObject)
        self.item_all.transform:DOLocalMove(Vector3.zero, 0.25)
    end
    self.root.transform:Set_localScale(1, 1, 1)

end


NewsEventItem.OnCreate = OnCreate
NewsEventItem.OnDestroy = OnDestroy
NewsEventItem.ComponentDefine = ComponentDefine
NewsEventItem.ComponentDestroy = ComponentDestroy
NewsEventItem.SetUuid = SetUuid
NewsEventItem.DataDefine = DataDefine
NewsEventItem.DataDestroy = DataDestroy
NewsEventItem.Refresh = Refresh
NewsEventItem.OnPointerDown = OnPointerDown
NewsEventItem.PlayShowAnimation = PlayShowAnimation
NewsEventItem.SetSelectUuid = SetSelectUuid

return NewsEventItem