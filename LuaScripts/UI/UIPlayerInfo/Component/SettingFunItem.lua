---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guqu.
--- DateTime: 2020/8/27 21:15
---
local SettingFunItem = BaseClass("SettingFunItem",UIBaseContainer)
local base = UIBaseContainer
local btn_path = "Btn"
local img_path = "Btn/icon"
local name_path = "name"
local red_dot = "reddot"
local function OnCreate(self,data)
    base.OnCreate(self)
    self.itemData = data
    self.name = self:AddComponent(UITextMeshProUGUIEx,name_path)
    self.img = self:AddComponent(UIImage,img_path)
    self.btn = self:AddComponent(UIButton, btn_path)
    self.red_dot = self:AddComponent(UIBaseComponent, red_dot)
    self.btn:SetOnClick(function()
        self.view.ctrl:OnGotoClick(self.itemData.type)
    end)
    self.name:SetText(self.itemData.name)

    self.img:LoadSprite(self.itemData.pic)
    if self.itemData.red_dot then
        self.red_dot:SetActive(true)
    else
        self.red_dot:SetActive(false)
    end
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end
local function OnDestroy(self)
    self.itemData = nil
    self.name = nil
    self.img = nil
    self.btn = nil
    base.OnDestroy(self)
end

local function GetIconPos(self)
    return self.img.transform.position
end

SettingFunItem.OnCreate= OnCreate
SettingFunItem.OnDestroy = OnDestroy
SettingFunItem.OnEnable = OnEnable
SettingFunItem.OnDisable = OnDisable
SettingFunItem.GetIconPos = GetIconPos
return SettingFunItem