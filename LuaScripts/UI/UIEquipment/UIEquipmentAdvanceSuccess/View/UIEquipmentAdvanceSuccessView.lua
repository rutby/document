---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/3/10 17:45
---


local UIEquipmentAdvanceSuccessView = BaseClass("UIEquipmentAdvanceSuccessView", UIBaseView)
local base = UIBaseView
local Localization = CS.GameEntry.Localization
local EquipmentCell = require "UI.UIEquipment.Common.EquipmentCell"
local title_path = "UICommonRewardPopUp/Panel/ImgTitleBg/TextTitle"
local next_path = "UICommonRewardPopUp/Panel"

local name_text_path = "Root/Content/NameText"
local value_text_path = "Root/Content/ValueText"
local pre_equip_path = "Root/Content/EquipmentCell_1"
local cur_equip_path = "Root/Content/EquipmentCell_2"

local function OnCreate(self)
    base.OnCreate(self)
    self:DataDefine()
    self:ComponentDefine()
    self:ReInit()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function ComponentDefine(self)
    self.title_text = self:AddComponent(UIText, title_path)
    self.title_text:SetLocalText(270022)
    self.next_btn = self:AddComponent(UIButton, next_path)
    self.next_btn:SetOnClick(function()
        self.ctrl:CloseSelf()
    end)

    self.name_text = self:AddComponent(UIText, name_text_path)
    self.value_text = self:AddComponent(UIText, value_text_path)
    self.pre_equip = self:AddComponent(EquipmentCell, pre_equip_path)
    self.cur_equip = self:AddComponent(EquipmentCell, cur_equip_path)
end

local function ComponentDestroy(self)
    self.title_text = nil
    self.next_btn = nil
    self.content_go = nil
end

local function DataDefine(self)
    self.reqs = {}
end

local function DataDestroy(self)
    self.reqs = {}
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function ReInit(self)
    self.data = self.ctrl:GetPanelData(self:GetUserData())
    self:Show()
end

local function Show(self)
    self.name_text:SetText(self.data.attr.desc)
    self.value_text:SetText(self.data.attr.value)
    local para1 = {}
    para1.equipmentId = self.data.preEquipmentId
    self.pre_equip:SetData(para1)

    local para2 = {}
    para2.equipmentId = self.data.curEquipmentId
    self.cur_equip:SetData(para2)

end

UIEquipmentAdvanceSuccessView.OnCreate= OnCreate
UIEquipmentAdvanceSuccessView.OnDestroy = OnDestroy
UIEquipmentAdvanceSuccessView.ComponentDefine = ComponentDefine
UIEquipmentAdvanceSuccessView.ComponentDestroy = ComponentDestroy
UIEquipmentAdvanceSuccessView.DataDefine = DataDefine
UIEquipmentAdvanceSuccessView.DataDestroy = DataDestroy
UIEquipmentAdvanceSuccessView.OnEnable = OnEnable
UIEquipmentAdvanceSuccessView.OnDisable = OnDisable
UIEquipmentAdvanceSuccessView.ReInit = ReInit
UIEquipmentAdvanceSuccessView.Show = Show

return UIEquipmentAdvanceSuccessView