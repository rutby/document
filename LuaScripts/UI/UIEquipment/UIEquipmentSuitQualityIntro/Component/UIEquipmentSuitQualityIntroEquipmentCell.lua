---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2023/3/6 15:16
---


local UIEquipmentSuitQualityIntroEquipmentCell = BaseClass('UIEquipmentSuitQualityIntroEquipmentCell', UIBaseContainer)
local base = UIBaseContainer
local EquipmentAttr = require "UI.UIEquipment.UIEquipmentSuitQualityIntro.Component.EquipmentAttr"
local EquipmentCell = require "UI.UIEquipment.Common.EquipmentCell_TextMeshPro"
local name_path = "name"
local icon_path = "EquipmentCell"

local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    base.OnDestroy(self)
end

local function ComponentDefine(self)
    self.name = self:AddComponent(UITextMeshProUGUIEx, name_path)
    self.icon = self:AddComponent(EquipmentCell, icon_path)
    self.allCells = {}
    for i = 1, 4 do
        local cell = self:AddComponent(EquipmentAttr, "Cell_"..i)
        table.insert(self.allCells, cell)
    end
end

local function ComponentDestroy(self)

end

local function SetData(self, data)
    self.data = data
    self.name:SetLocalText(self.data.name)

    local para = {}
    para.lv = self.data.lv
    para.equipmentId = self.data.equipmentId
    para.showLv = true
    self.icon:SetData(para)
    for k, v in ipairs(self.allCells) do
        local attr = self.data.attrList[k]
        v:SetActive(attr ~= nil)
        if attr then
            v:SetData(attr)
        end
    end
end

UIEquipmentSuitQualityIntroEquipmentCell.OnCreate= OnCreate
UIEquipmentSuitQualityIntroEquipmentCell.OnDestroy = OnDestroy
UIEquipmentSuitQualityIntroEquipmentCell.ComponentDefine = ComponentDefine
UIEquipmentSuitQualityIntroEquipmentCell.ComponentDestroy = ComponentDestroy
UIEquipmentSuitQualityIntroEquipmentCell.SetData = SetData

return UIEquipmentSuitQualityIntroEquipmentCell