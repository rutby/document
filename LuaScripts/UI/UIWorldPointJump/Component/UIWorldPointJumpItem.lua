---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/4/28 14:48
---

local UIWorldPointJumpItem = BaseClass("UIWorldPointJumpItem", UIBaseContainer)
local base = UIBaseContainer

local icon_path = "Icon"
local name_path = "Name"

local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function ComponentDefine(self)
    self.icon_btn = self:AddComponent(UIButton, icon_path)
    self.icon_btn:SetOnClick(function()
        self:OnClick()
    end)
    self.name_text = self:AddComponent(UIText, name_path)
end

local function ComponentDestroy(self)
    
end

local function DataDefine(self)
    self.data = nil
end

local function DataDestroy(self)
    self.data = nil
end

local function OnAddListener(self)
    base.OnAddListener(self)
end

local function OnRemoveListener(self)
    base.OnRemoveListener(self)
end

local function SetData(self, data)
    self.data = data
    self.icon_btn:LoadSprite(data.icon)
    self.name_text:SetText(data.name)
end

local function OnClick(self)
    GoToUtil.GotoWorldPos(SceneUtils.TileIndexToWorld(self.data.pointId, ForceChangeScene.World), nil, 0.02, self.data.callback, self.data.serverId)
end

UIWorldPointJumpItem.OnCreate = OnCreate
UIWorldPointJumpItem.OnDestroy = OnDestroy
UIWorldPointJumpItem.OnEnable = OnEnable
UIWorldPointJumpItem.OnDisable = OnDisable
UIWorldPointJumpItem.ComponentDefine = ComponentDefine
UIWorldPointJumpItem.ComponentDestroy = ComponentDestroy
UIWorldPointJumpItem.DataDefine = DataDefine
UIWorldPointJumpItem.DataDestroy = DataDestroy
UIWorldPointJumpItem.OnAddListener = OnAddListener
UIWorldPointJumpItem.OnRemoveListener = OnRemoveListener

UIWorldPointJumpItem.SetData = SetData
UIWorldPointJumpItem.OnClick = OnClick

return UIWorldPointJumpItem