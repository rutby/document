---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by mac.
--- DateTime: 8/11/21 9:13 PM
---
local list = require "Common.Tools.list"
local ctrl = BaseClass("ctrl", UIBaseCtrl)

local function CloseSelf(self)
    UIManager:GetInstance():DestroyWindow(UIWindowNames.UIMailDetailReportView)
end

-- 初始化数据
local function InitData(self)
    self.list = {}
end

local function GetRoundCnt(self)
    return table.count(self.list)
end

local function AddItemInfoToList(self, eType, index)
    local param = {["type"] = eType, ["value"] = index}
    self.list[#self.list+1] = param
end

local function GetItemByIndex(self, index)
    return self.list[index] or {}
end

local function ShowContent(self, index)
    -- 找到index对应的列表,插入到其后面
    for _, item in pairs(self.list) do
        local value = item["value"] or {}
        if (value["index"] == index) then
            value["show"] = true
        end
    end
end

local function CloseContent(self, index)
    -- 找到index对应的列表,插入到其后面
    for _, item in pairs(self.list) do
        local value = item["value"] or {}
        if (value["index"] == index) then
            value["show"] = false
        end
    end
end

local function SetAllRoundDetailStatus(self, isShow)
    for _, item in pairs(self.list) do
        local type = item["type"] or 0
        if (type == eMailDetailItemType.Content) then
            local value = item["value"] or {}
            value["show"] = isShow
        end
    end
end

ctrl.CloseSelf = CloseSelf
ctrl.InitData = InitData
ctrl.AddItemInfoToList = AddItemInfoToList
ctrl.ShowContent = ShowContent
ctrl.CloseContent = CloseContent
ctrl.GetRoundCnt = GetRoundCnt
ctrl.GetItemByIndex = GetItemByIndex
ctrl.SetAllRoundDetailStatus = SetAllRoundDetailStatus


return ctrl