---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2021/8/11 22:59
---

local MailScoutFortItem = BaseClass("MailScoutFortItem", UIBaseContainer)
local base = UIBaseContainer
local Localization = CS.GameEntry.Localization

local level_num_path = "Lv"
local attack_num_path = "Attack"
local tip_path = "Tip"
local blood_fore_path = "BloodFg"
local blood_num_path = "blood"

-- 创建
local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
end

-- 销毁
local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

-- 显示
local function OnEnable(self)
    base.OnEnable(self)
end

-- 隐藏
local function OnDisable(self)
    base.OnDisable(self)
end


--控件的定义
local function ComponentDefine(self)
    self.LevelNumN = self:AddComponent(UITextMeshProUGUIEx, level_num_path)
    self.AttackNumN = self:AddComponent(UITextMeshProUGUIEx, attack_num_path)
    self.TipsN = self:AddComponent(UITextMeshProUGUIEx, tip_path)
    self.BloodNumN = self:AddComponent(UITextMeshProUGUIEx, blood_num_path)
    self.BloodForeBgN = self:AddComponent(UIImage, blood_fore_path)
end

--控件的销毁
local function ComponentDestroy(self)
    self.LevelNumN = nil
    self.AttackNumN = nil
    self.TipsN = nil
    self.BloodNumN = nil
    self.BloodForeBgN = nil
end

--变量的定义
local function DataDefine(self)
    self.targetPointId = nil
end

--变量的销毁
local function DataDestroy(self)
    self.targetPointId = nil
end

local function RefreshData(self, fortInfo)
    self.LevelNumN:SetText(Localization:GetString("300627", fortInfo.level.value))
    self.AttackNumN:SetText(Localization:GetString("300628", fortInfo.attack.value))
    self.BloodNumN:SetText(fortInfo.hp.value .. "/" .. fortInfo.hpMax.value)
    self.TipsN:SetLocalText(300629) 
    self.BloodForeBgN:SetFillAmount(fortInfo.hp.value / fortInfo.hpMax.value)
end

MailScoutFortItem.OnCreate = OnCreate
MailScoutFortItem.OnDestroy = OnDestroy
MailScoutFortItem.OnEnable = OnEnable
MailScoutFortItem.OnDisable = OnDisable
MailScoutFortItem.ComponentDefine = ComponentDefine
MailScoutFortItem.ComponentDestroy = ComponentDestroy
MailScoutFortItem.DataDefine = DataDefine
MailScoutFortItem.DataDestroy = DataDestroy

MailScoutFortItem.RefreshData = RefreshData

return MailScoutFortItem