---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guqu.
--- DateTime: 2020/11/16 20:46
---
local AllianceRankListItem = BaseClass("AllianceRankListItem",UIBaseContainer)
local base = UIBaseContainer

local first_name_path = "firstNameTxt"
local second_name_path = "secondNameTxt"
local honor_path = "honorTxt"
local donate_path = "DonateTxt"
local num_path = "numTxt"
local first_flag_path = "firstImg"
local second_flag_path = "secondImg"
local third_flag_path = "thirdImg"
local btn_path = "Button"

local function OnCreate(self)
    base.OnCreate(self)
    self.first_txt= self:AddComponent(UIText,first_name_path)
    self.second_txt = self:AddComponent(UIText,second_name_path)
    self.donate_txt = self:AddComponent(UIText,donate_path)
    self.honor_txt = self:AddComponent(UIText,honor_path)
    self.num_txt = self:AddComponent(UIText,num_path)

    self.first_flag = self:AddComponent(UIBaseContainer,first_flag_path)
    self.second_flag = self:AddComponent(UIBaseContainer,second_flag_path)
    self.third_flag = self:AddComponent(UIBaseContainer,third_flag_path)

    self.btn = self:AddComponent(UIButton, btn_path)
    self.btn:SetOnClick(function()  
SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:OnClick()
    end)
end

local function SetItemShow(self, data)

    self.data = data
    self.first_flag:SetActive(self.data.rank ==1)
    self.third_flag:SetActive(self.data.rank ==3)
    self.second_flag:SetActive(self.data.rank ==2)
    self.num_txt:SetText(self.data.rank)
    if self.data.rank>3 then
        self.num_txt:SetColor(Color.New(1,0.73,0.19,1))
    else
        self.num_txt:SetColor(WhiteColor)
    end
    self.first_txt:SetText(self.data.firstName)
    self.second_txt:SetText(self.data.secondName)
    self.donate_txt:SetText(self.data.donation)
    self.honor_txt:SetText(self.data.alliance_honor)
end

local function OnClick(self)
    
end

AllianceRankListItem.OnCreate = OnCreate
AllianceRankListItem.SetItemShow = SetItemShow
AllianceRankListItem.OnClick = OnClick

return AllianceRankListItem