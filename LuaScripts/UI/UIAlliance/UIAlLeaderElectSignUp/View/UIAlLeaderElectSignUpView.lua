---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2021/9/15 16:38
---

local base = UIBaseView--Variable
local UIAlLeaderElectSignUpView = BaseClass("UIAlLeaderElectSignUpView", base)--Variable

local title_path = "Image/Image/titleText"
local desc_path = "Image/DesName"
local slogalTip_path = "Image/sloganTip"
local sloganIpt_path = "Image/InputField"
local sloganPlaceHolder_path = "Image/InputField/Placeholder"
local confirmBtn_path = "Image/confirmBtn"
local confirmBtnTxt_path = "Image/confirmBtn/btnTxt_yellow_big_new"
local closeBtn_path = "CloseBtn"

local function OnCreate(self)
    base.OnCreate(self)
    self:ComponentDefine()
    self:DataDefine()
    self:RefreshAll()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function ComponentDefine(self)
    self.titleN = self:AddComponent(UIText, title_path)
    self.titleN:SetLocalText(390924)
    self.descN = self:AddComponent(UIText, desc_path)
    self.descN:SetLocalText(390934)
    self.sloganTipN = self:AddComponent(UIText, slogalTip_path)
    self.sloganTipN:SetLocalText(390933)
    self.sloganPlaceHolderN = self:AddComponent(UIText, sloganPlaceHolder_path)
    self.sloganPlaceHolderN:SetLocalText(390930)
    self.sloganIptN = self:AddComponent(UIInput, sloganIpt_path)
    self.sloganIptN:SetOnValueChange(function (value)
        self:OnSloganChanged(value)
    end)
    self.confirmBtnN = self:AddComponent(UIButton, confirmBtn_path)
    self.confirmBtnN:SetOnClick(function()
        self:OnClickConfirmBtn()
    end)
    self.confirmBtnTxtN = self:AddComponent(UIText, confirmBtnTxt_path)
    self.confirmBtnTxtN:SetLocalText(280108)
    self.closeBtnN = self:AddComponent(UIButton, closeBtn_path)
    self.closeBtnN:SetOnClick(function()
        self:OnClickCloseBtn()
    end)
end

local function ComponentDestroy(self)
    self.titleN = nil
    self.descN = nil
    self.sloganTipN = nil
    self.sloganIptN = nil
    self.confirmBtnN = nil
    self.closeBtnN = nil
end

local function DataDefine(self)
    self.curSlogan = ""
end

local function DataDestroy(self)
    self.curSlogan = nil
end

local function OnAddListener(self)
    base.OnAddListener(self)
    --self:AddUIListener(EventId.OnUpdateAlLeaderCandidates, self.RefreshAll)
end

local function OnRemoveListener(self)
    base.OnRemoveListener(self)
    --self:RemoveUIListener(EventId.OnUpdateAlLeaderCandidates, self.RefreshAll)
end


local function RefreshAll(self)
    self.sloganIptN:SetText(self.curSlogan)
end

local function OnSloganChanged(self, str)
    self.curSlogan = str
end

local function OnClickCloseBtn(self)
    self.ctrl:CloseSelf()
end

local function OnClickConfirmBtn(self)
    local strSlogan = self.sloganIptN:GetText()
    SFSNetwork.SendMessage(MsgDefines.AlLeaderElectSignUp, strSlogan)
    self.ctrl:CloseSelf()
end

UIAlLeaderElectSignUpView.OnCreate = OnCreate
UIAlLeaderElectSignUpView.OnDestroy = OnDestroy
UIAlLeaderElectSignUpView.OnAddListener = OnAddListener
UIAlLeaderElectSignUpView.OnRemoveListener = OnRemoveListener
UIAlLeaderElectSignUpView.ComponentDefine = ComponentDefine
UIAlLeaderElectSignUpView.ComponentDestroy = ComponentDestroy
UIAlLeaderElectSignUpView.DataDefine = DataDefine
UIAlLeaderElectSignUpView.DataDestroy = DataDestroy

UIAlLeaderElectSignUpView.RefreshAll = RefreshAll
UIAlLeaderElectSignUpView.OnClickConfirmBtn = OnClickConfirmBtn
UIAlLeaderElectSignUpView.OnClickCloseBtn = OnClickCloseBtn
UIAlLeaderElectSignUpView.OnSloganChanged = OnSloganChanged

return UIAlLeaderElectSignUpView