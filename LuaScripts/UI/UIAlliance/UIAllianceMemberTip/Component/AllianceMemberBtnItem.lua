---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guqu.
--- DateTime: 2020/9/22 11:19
---
local AllianceMemberBtnItem = BaseClass("AllianceMemberBtnItem",UIBaseContainer)
local base = UIBaseContainer

local btn_path = "setBtn"
local name_path = "setBtn/setText"
local btnImg_path = "setBtn"
local function OnCreate(self,data)
    base.OnCreate(self)
    self.itemData = data
    self.name = self:AddComponent(UITextMeshProUGUIEx,name_path)
    self.btn = self:AddComponent(UIButton, btn_path)
    self.btn:SetOnClick(function()  
SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self.view.ctrl:OnMemberBtnClick(self.itemData.type,self.itemData.uid,self.itemData.UIName,self.itemData.playerName,self.itemData.selfRank)
    end)
    self.name:SetText(self.itemData.name)
    self.btnImg = self:AddComponent(UIImage, btnImg_path)
    if self.itemData.type == AllianceMemberManageType.MemberQuit then
        self.btnImg:LoadSprite(string.format(LoadPath.CommonNewPath, "Common_btn_red71.png"))
    else
        self.btnImg:LoadSprite(string.format(LoadPath.CommonNewPath, "Common_btn_blue_samll.png"))
    end
end

local function OnDestroy(self)
    self.itemData = nil
    self.name = nil
    self.btn = nil
    base.OnDestroy(self)
end


AllianceMemberBtnItem.OnCreate= OnCreate
AllianceMemberBtnItem.OnDestroy = OnDestroy
return AllianceMemberBtnItem