---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guqu.
--- DateTime: 2020/11/11 15:25
---
local UIAllianceChangeAbbrCtrl = BaseClass("UIAllianceChangeAbbrCtrl", UIBaseCtrl)
local function CloseSelf(self)
    UIManager:GetInstance():DestroyWindow(UIWindowNames.UIAllianceChangeAbbr)
end

local function Close(self)
    UIManager:GetInstance():DestroyWindowByLayer(UILayer.Normal)
end

local function CheckName(self,value)
    local type = CheckNameType.None
    local len = #value
    if len ~= AllianceAbbrLength then
        type = CheckNameType.MinNameChar
    end
    --if len<= 0 then
    --    type = CheckNameType.MinNameChar
    --elseif len>MIN_NAME_CHAR then
    --    type = CheckNameType.MaxNameChar
    --end
    Logger.Log("check type", type)

    return type
end

local function GetIsFree(self)
    local isFree =false
    local data =  DataCenter.AllianceBaseDataManager:GetAllianceBaseData()
    if data~=nil then
        if data.abbrRename == 0 then
            isFree =true
        end
    end
    return isFree
end
local function SendCheckNameMessage(self,value)
    SFSNetwork.SendMessage(MsgDefines.AlAbbr,value)
end
local function SendChangeNameMessage(self,value)
    --SFSNetwork.SendMessage(MsgDefines.AllianceChangeAttributes,"",value,-1,"","")
    self:CloseSelf()
end


UIAllianceChangeAbbrCtrl.CloseSelf =CloseSelf
UIAllianceChangeAbbrCtrl.Close =Close
UIAllianceChangeAbbrCtrl.CheckName =CheckName
UIAllianceChangeAbbrCtrl.GetIsFree =GetIsFree
UIAllianceChangeAbbrCtrl.SendCheckNameMessage = SendCheckNameMessage
UIAllianceChangeAbbrCtrl.SendChangeNameMessage = SendChangeNameMessage
return UIAllianceChangeAbbrCtrl