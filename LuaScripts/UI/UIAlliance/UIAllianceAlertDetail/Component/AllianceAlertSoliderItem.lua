---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guqu.
--- DateTime: 2020/8/19 20:47
---
local AllianceWarPlayerSoliderItem = BaseClass("AllianceWarPlayerSoliderItem",UIBaseContainer)
local base = UIBaseContainer

local icon_path = "UISoldierItem/Icon"
local name_path = "name"
local lv_path = "UISoldierItem/LevelText"
local count_path = "count"

local function OnCreate(self)
    base.OnCreate(self)
    self.icon = self:AddComponent(UIImage,icon_path)
    self.lv = self:AddComponent(UITextMeshProUGUIEx,lv_path)
    self.name = self:AddComponent(UITextMeshProUGUIEx,name_path)
    self.count = self:AddComponent(UITextMeshProUGUIEx,count_path)
    self.data = nil
end

local function OnDestroy(self)
    self.icon =nil
    self.count = nil
    self.data = nil
    base.OnDestroy(self)
end

local function SetData(self,armsId,count)
    local data = DataCenter.ArmyTemplateManager:GetArmyTemplate(tonumber(armsId))
    if data~=nil then
        self.name:SetLocalText(data.name)
        self.icon:LoadSprite(string.format(LoadPath.SoldierIcons,data.icon))
        self.count:SetText("x "..string.GetFormattedSeperatorNum(count))
        self.lv:SetText(data.level)
    end

end
AllianceWarPlayerSoliderItem.OnCreate = OnCreate
AllianceWarPlayerSoliderItem.OnDestroy = OnDestroy
AllianceWarPlayerSoliderItem.SetData = SetData

return AllianceWarPlayerSoliderItem