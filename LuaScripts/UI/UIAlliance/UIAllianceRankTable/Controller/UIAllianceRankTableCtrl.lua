---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guqu.
--- DateTime: 2020/11/16 20:20
---
local RankTypeShow =
{
    pic ="",
    bg = "",
    type = RankType.None,
    title = "",
    firstName ="",
    secondName = ""
}
local OneData = DataClass("OneData", RankTypeShow)
local UIAllianceRankTableCtrl = BaseClass("UIAllianceRankTableCtrl", UIBaseCtrl)
local Localization = CS.GameEntry.Localization

local function CloseSelf(self)
    UIManager:GetInstance():DestroyWindow(UIWindowNames.UIAllianceRankTable)
end

local function Close(self)
    UIManager:GetInstance():DestroyWindowByLayer(UILayer.Normal)
end

local function GetRankTypeList(self)
    local typeList = {AllianceDonateRankType.RankDay,AllianceDonateRankType.RankWeek,AllianceDonateRankType.RankHistory}
    local showList = {}
    table.walk(typeList,function (k,v)
        local data = OneData.New()
        data.type = v
        data.pic = "Assets/Main/Sprites/UI/UIRank/img_iconRankType5.png"
        data.bg = "Assets/Main/Sprites/UI/UIAlliance/ApsAlliance/img_AllianceIconBGFlag.png"
        if v== AllianceDonateRankType.RankDay then
            data.title =Localization:GetString("390263")
            table.insert(showList,data)
        elseif v == AllianceDonateRankType.RankWeek then
            data.title =Localization:GetString("390207")
            table.insert(showList,data)
        elseif v == AllianceDonateRankType.RankHistory then
            data.title =Localization:GetString("390264")
            table.insert(showList,data)
        end
    end)
    return showList
end

local function OnRankItemClick(self,type)
    UIManager:GetInstance():OpenWindow(UIWindowNames.UIAllianceRankDetailList,{ anim = true, hideTop = true },type)
end

UIAllianceRankTableCtrl.CloseSelf = CloseSelf
UIAllianceRankTableCtrl.Close = Close
UIAllianceRankTableCtrl.GetRankTypeList = GetRankTypeList
UIAllianceRankTableCtrl.OnRankItemClick = OnRankItemClick

return UIAllianceRankTableCtrl