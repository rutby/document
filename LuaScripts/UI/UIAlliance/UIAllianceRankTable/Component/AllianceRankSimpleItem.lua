---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guqu.
--- DateTime: 2020/11/16 20:19
---
local AllianceRankSimpleItem = BaseClass("AllianceRankSimpleItem",UIBaseContainer)
local base = UIBaseContainer

local title_path = "desTxt"
local first_name_path = "firstNameTxt"
local second_name_path = "secondNameTxt"
local flag_bg_path = "flagBg"
local flag_icon_path = "flagBg/flagIcon"
local btn_path = "BgButton"

local function OnCreate(self)
    base.OnCreate(self)
    self.title = self:AddComponent(UIText,title_path)
    self.first_name = self:AddComponent(UIText,first_name_path)
    self.second_name = self:AddComponent(UIText,second_name_path)
    self.flag_bg = self:AddComponent(UIImage,flag_bg_path)
    self.flag_icon = self:AddComponent(UIImage,flag_icon_path)
    self.btn = self:AddComponent(UIButton, btn_path)
    self.btn:SetOnClick(function()  
SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:OnClick()
    end)
end

local function OnClick(self)
    self.view.ctrl:OnRankItemClick(self.data.type)
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end
local function OnDestroy(self)
    self.title = nil
    self.first_name = nil
    self.second_name = nil
    self.flag_bg = nil
    self.flag_icon = nil
    self.btn = nil
    self.data =nil
    base.OnDestroy(self)
end

local function InitByType(self,data)
    self.data =data
    self.flag_bg:LoadSprite(self.data.bg)
    self.flag_icon:LoadSprite(self.data.pic)
    self.title:SetText(self.data.title)
end

local function RefreshData(self,data)
    self.data =data
    self.first_name:SetText(self.data.firstName)
    self.second_name:SetText(self.data.secondName)
end

AllianceRankSimpleItem.OnCreate = OnCreate
AllianceRankSimpleItem.OnDestroy = OnDestroy
AllianceRankSimpleItem.OnEnable = OnEnable
AllianceRankSimpleItem.OnDisable = OnDisable
AllianceRankSimpleItem.OnClick = OnClick
AllianceRankSimpleItem.InitByType = InitByType
AllianceRankSimpleItem.RefreshData = RefreshData
return AllianceRankSimpleItem