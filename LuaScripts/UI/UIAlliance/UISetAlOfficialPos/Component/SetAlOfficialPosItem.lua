---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2021/9/15 17:23
---

local SetAlOfficialPosItem = BaseClass("SetAlOfficialPosItem", UIBaseContainer)
local base = UIBaseContainer
local Localization = CS.GameEntry.Localization
local AllianceMemberRankSpecial = require "UI.UIAlliance.UIAllianceMemberDetail.Component.AllianceMemberRankSpecial"

local selectBtn_path = "check/btn"
local selectImg_path = "check/btn/select"
local memberItem_path = "AllianceMemberRankSpecial"

local function OnCreate(self)
    base.OnCreate(self)
    self.selectBtnN = self:AddComponent(UIButton, selectBtn_path)
    self.selectBtnN:SetOnClick(function()
        self:TrySelectMember()
    end)
    self.selectImgN = self:AddComponent(UIBaseContainer, selectImg_path)
    self.memberItemN = self:AddComponent(AllianceMemberRankSpecial, memberItem_path)
end

local function OnDestroy(self)
    self.memberItemN = nil
    base.OnDestroy(self)
end

local function SetItem(self, memberInfo, isSelected)
    self.memberInfo = memberInfo
    
    self:SetIsSelected(isSelected)
    self.memberItemN:RefreshData(memberInfo)
end

local function TrySelectMember(self)
    self.view:TrySelectMember(self.memberInfo.uid)
end

local function SetIsSelected(self, isSelect)
    self.selectImgN:SetActive(isSelect)
end


SetAlOfficialPosItem.OnCreate = OnCreate
SetAlOfficialPosItem.OnDestroy = OnDestroy

SetAlOfficialPosItem.SetItem = SetItem
SetAlOfficialPosItem.TrySelectMember = TrySelectMember
SetAlOfficialPosItem.SetIsSelected = SetIsSelected
return SetAlOfficialPosItem