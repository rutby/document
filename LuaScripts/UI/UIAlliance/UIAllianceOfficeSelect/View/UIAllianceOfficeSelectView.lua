---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guqu.
--- DateTime: 2020/9/22 14:13
---
local UIAllianceOfficeSelectView = BaseClass("UIAllianceOfficeSelectView",UIBaseView)
local base = UIBaseView
local Localization = CS.GameEntry.Localization
local title_path = "ImgBg/TxtTitle"
local btn_group_path ="ImgBg/checkObj"
local btn1_path = "ImgBg/checkObj/item1"
local btn1_img_path = "ImgBg/checkObj/item1/checkBox/Image1"
local btn2_path = "ImgBg/checkObj/item2"
local btn2_img_path = "ImgBg/checkObj/item2/checkBox/Image2"
local btn3_path = "ImgBg/checkObj/item3"
local btn3_img_path = "ImgBg/checkObj/item3/checkBox/Image3"
local btn4_path = "ImgBg/checkObj/item4"
local btn4_img_path = "ImgBg/checkObj/item4/checkBox/Image4"
local set_txt_path = "ImgBg/setBtn/setText"
local set_btn_path = "ImgBg/setBtn"
local return_btn_path = "Panel"
local close_btn_path = "ImgBg/BtnClose"
local function OnCreate(self)
    base.OnCreate(self)
    local selfRank, officialNum, uid = self:GetUserData()
    self.selfRank = tonumber(selfRank)
    self.officialNum = tonumber(officialNum)
    self.uid = tostring(uid)
    self.title = self:AddComponent(UIText,title_path)
    self.title:SetLocalText(390068) 
    self.btn_group = self:AddComponent(UIBaseContainer,btn_group_path)
    self.image1 = self:AddComponent(UIBaseContainer, btn1_img_path)
    self.image2 = self:AddComponent(UIBaseContainer, btn2_img_path)
    self.image3 = self:AddComponent(UIBaseContainer, btn3_img_path)
    self.image4 = self:AddComponent(UIBaseContainer, btn4_img_path)
    self.btn1 = self:AddComponent(UIButton, btn1_path)
    self.btn1:SetOnClick(function()  
SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:onBtn1Click()
    end)
    self.btn2 = self:AddComponent(UIButton, btn2_path)
    self.btn2:SetOnClick(function()  
SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:onBtn2Click()
    end)
    self.btn3 = self:AddComponent(UIButton, btn3_path)
    self.btn3:SetOnClick(function()  
SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:onBtn3Click()
    end)
    self.btn4 = self:AddComponent(UIButton, btn4_path)
    self.btn4:SetOnClick(function()  
SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:onBtn4Click()
    end)
    self.set_btn = self:AddComponent(UIButton, set_btn_path)
    self.set_btn:SetOnClick(function()  
SoundUtil.PlayEffect(SoundAssets.Music_Effect_Button)
        self:OnSetClick()
    end)
    self.set_txt = self:AddComponent(UIText,set_txt_path)
    self.set_txt:SetLocalText(110033) 
    
    self.close_btn = self:AddComponent(UIButton, close_btn_path)
    self.close_btn:SetOnClick(function()  
        self.ctrl:CloseSelf()
    end)
    
    self.return_btn = self:AddComponent(UIButton, return_btn_path)
    self.return_btn:SetOnClick(function()  
        self.ctrl:CloseSelf()
    end)
end

local function OnDestroy(self)
    self.selfRank = nil
    self.officialNum = nil
    self.uid = nil
    self.title = nil
    self.image1 =nil
    self.image2 =nil
    self.image3 =nil
    self.image4 =nil
    self.btn1 = nil
    self.btn2 = nil
    self.btn3 = nil
    self.btn4 = nil
    self.btn_group = nil
    self.set_btn = nil
    self.set_txt = nil
    self.return_btn = nil
    base.OnDestroy(self)
end

local function OnEnable(self)
    base.OnEnable(self)
    self:SetData()
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function onBtn1Click(self)
    if self.index ==1 then
        self.image1.gameObject:SetActive(false)
        self.index =0
    else
        self.index =1
        self.image1.gameObject:SetActive(true)
    end
    
    self.image2.gameObject:SetActive(false)
    self.image3.gameObject:SetActive(false)
    self.image4.gameObject:SetActive(false)
end
local function onBtn2Click(self)
    if self.index ==2 then
        self.image2.gameObject:SetActive(false)
        self.index =0
    else
        self.index =2
        self.image2.gameObject:SetActive(true)
    end
    self.image1.gameObject:SetActive(false)
    self.image3.gameObject:SetActive(false)
    self.image4.gameObject:SetActive(false)
end
local function onBtn3Click(self)
    if self.index ==3 then
        self.image3.gameObject:SetActive(false)
        self.index =0
    else
        self.index =3
        self.image3.gameObject:SetActive(true)
    end
    self.image1.gameObject:SetActive(false)
    self.image2.gameObject:SetActive(false)
    self.image4.gameObject:SetActive(false)
end
local function onBtn4Click(self)
    if self.index ==4 then
        self.image4.gameObject:SetActive(false)
        self.index =0
    else
        self.index =4
        self.image4.gameObject:SetActive(true)
    end
    self.image1.gameObject:SetActive(false)
    self.image2.gameObject:SetActive(false)
    self.image3.gameObject:SetActive(false)
end

local function OnSetClick(self)
    self.ctrl:OnSetOfficial(self.uid,self.index)
end

local function SetData(self)
    if self.selfRank>4 then
        self.btn_group.gameObject:SetActive(true)
        self.set_btn:SetActive(true)
        self.image1.gameObject:SetActive(false)
        self.image2.gameObject:SetActive(false)
        self.image3.gameObject:SetActive(false)
        self.image4.gameObject:SetActive(false)
        if self.officialNum==1 then
            self.image1.gameObject:SetActive(true)
        elseif self.officialNum==2 then
            self.image2.gameObject:SetActive(true)
        elseif self.officialNum==3 then
            self.image3.gameObject:SetActive(true)
        elseif self.officialNum==4 then
            self.image4.gameObject:SetActive(true)
        end
        self.index =self.officialNum
    else
        --self.btn_group:SetActive(false)
        self.set_btn:SetActive(false)
        self.index = 0 
    end
end
UIAllianceOfficeSelectView.OnCreate = OnCreate
UIAllianceOfficeSelectView.OnDestroy = OnDestroy
UIAllianceOfficeSelectView.OnEnable = OnEnable
UIAllianceOfficeSelectView.OnDisable = OnDisable
UIAllianceOfficeSelectView.onBtn1Click = onBtn1Click
UIAllianceOfficeSelectView.onBtn2Click = onBtn2Click
UIAllianceOfficeSelectView.onBtn3Click = onBtn3Click
UIAllianceOfficeSelectView.onBtn4Click = onBtn4Click
UIAllianceOfficeSelectView.OnSetClick = OnSetClick
UIAllianceOfficeSelectView.SetData = SetData
return UIAllianceOfficeSelectView