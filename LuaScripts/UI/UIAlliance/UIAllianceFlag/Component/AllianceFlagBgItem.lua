---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2022/4/29 12:01
---

local AllianceFlagBgItem = BaseClass("AllianceFlagBgItem", UIBaseContainer)
local base = UIBaseContainer

local icon_path = "icon"
local select_path = "select"

local function OnCreate(self)
    base.OnCreate(self)
    self.iconN = self:AddComponent(UIImage, icon_path)
    self.btnN = self:AddComponent(UIButton, icon_path)
    self.selectN = self:AddComponent(UIImage, select_path)
end

local function OnDestroy(self)
    
    base.OnDestroy(self)
end

local function SetBgItem(self, index, selected)
    self.curIndex = index
    self.btnN:SetOnClick(function()
        self.view:OnSelectBgIcon(self.curIndex)
    end)
    self.iconN:LoadSprite(string.format("Assets/Main/Sprites/UI/UIAllianceFlag/UIalliance_img_flagbg%s", index))
    self:SetSelected(selected)
end

local function SetFgItem(self, index, selected)
    self.curIndex = index
    self.btnN:SetOnClick(function()
         self.view:OnSelectFgIcon(self.curIndex)
    end)
    self.iconN:LoadSprite(string.format("Assets/Main/Sprites/UI/UIAllianceFlag/UIalliance_img_flagpattern%s", index))
    self:SetSelected(selected)
end

local function SetSelected(self, isSelected)
    self.selectN:SetActive(isSelected)
end


AllianceFlagBgItem.OnCreate = OnCreate
AllianceFlagBgItem.OnDestroy = OnDestroy
AllianceFlagBgItem.SetBgItem = SetBgItem
AllianceFlagBgItem.SetFgItem = SetFgItem
AllianceFlagBgItem.SetSelected = SetSelected
return AllianceFlagBgItem