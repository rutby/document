---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by 1.
--- DateTime: 2021/10/26 19:31
---

local AllianceApplyItem = BaseClass("AllianceApplyItem",UIBaseContainer)
local base = UIBaseContainer
local Localization = CS.GameEntry.Localization

local toggle_path = "Toggle"
local toggleTxt_path = "Toggle/Label"

local Param = DataClass("Param", ParamData)
local ParamData =  {
    uid,
    name,
    isSelected,
    voteNum,
}

local function OnCreate(self)
    base.OnCreate(self)
    
    self.toggleN = self:AddComponent(UIToggle, toggle_path)
    self.toggleN:SetOnValueChanged(function(tf)
        self:OnSelectStateChange(tf)
    end)
    self.toggleTxtN = self:AddComponent(UIText, toggleTxt_path)
end

local function SetItem(self, param)
    self.param = param
    self.toggleTxtN:SetText(self.param.name)
    self.toggleN:SetIsOn(param.isSelected)
end

local function OnSelectStateChange(self, isOn)
    self.view:SetCurCandidateUid(self.param.uid, isOn)
end


AllianceApplyItem.OnCreate = OnCreate
AllianceApplyItem.SetItem = SetItem
AllianceApplyItem.OnSelectStateChange = OnSelectStateChange
AllianceApplyItem.Param = Param

return AllianceApplyItem