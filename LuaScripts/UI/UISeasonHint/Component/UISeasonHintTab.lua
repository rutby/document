---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Beef.
--- DateTime: 2023/2/2 17:45
---

local UISeasonHintTab = BaseClass("UISeasonHintTab", UIBaseContainer)
local base = UIBaseContainer

local this_path = ""
local off_path = "Off"
local off_icon_path = "Off/OffIcon"
local off_text_path = "Off/OffText"
local on_path = "On"
local on_icon_path = "On/OnIcon"
local on_text_path = "On/OnText"

local function OnCreate(self)
    base.OnCreate(self)
    self:DataDefine()
    self:ComponentDefine()
end

local function OnDestroy(self)
    self:ComponentDestroy()
    self:DataDestroy()
    base.OnDestroy(self)
end

local function ComponentDefine(self)
    self.btn = self:AddComponent(UIButton, this_path)
    self.btn:SetOnClick(function()
        self:OnClick()
    end)
    self.off_go = self:AddComponent(UIBaseContainer, off_path)
    self.off_icon_image = self:AddComponent(UIImage, off_icon_path)
    self.off_text = self:AddComponent(UIText, off_text_path)
    self.on_go = self:AddComponent(UIBaseContainer, on_path)
    self.on_icon_image = self:AddComponent(UIImage, on_icon_path)
    self.on_text = self:AddComponent(UIText, on_text_path)
end

local function ComponentDestroy(self)
    self.btn = nil
    self.off_go = nil
    self.off_icon_image = nil
    self.off_text = nil
    self.on_go = nil
    self.on_icon_image = nil
    self.on_text = nil
end

local function DataDefine(self)
    self.selected = false
end

local function DataDestroy(self)
    self.selected = nil
end

local function OnEnable(self)
    base.OnEnable(self)
end

local function OnDisable(self)
    base.OnDisable(self)
end

local function SetData(self, data,isThrone)
    local strOff = "seasonruels_tag_%02d_off"
    local strOn = "seasonruels_tag_%02d_on"
    local path = LoadPath.UISeasonHint
    if isThrone then
        strOff = "UIpresident_rules_%02d_on"
        strOn = "UIpresident_rules_%02d_off"
        path = LoadPath.UIGovernment
    end
    self.off_icon_image:LoadSprite(string.format(path, string.format(strOff, data.n)))
    self.off_text:SetLocalText(data.name)
    self.on_icon_image:LoadSprite(string.format(path, string.format(strOn, data.n)))
    self.on_text:SetLocalText(data.name)
end

local function SetSelected(self, selected)
    self.selected = selected
    self.on_go:SetActive(selected)
    self.off_go:SetActive(not selected)
end

local function SetOnClick(self, onClick)
    self.onClick = onClick
end

local function OnClick(self)
    if self.onClick then
        self.onClick()
    end
end

UISeasonHintTab.OnCreate= OnCreate
UISeasonHintTab.OnDestroy = OnDestroy
UISeasonHintTab.ComponentDefine = ComponentDefine
UISeasonHintTab.ComponentDestroy = ComponentDestroy
UISeasonHintTab.DataDefine = DataDefine
UISeasonHintTab.DataDestroy = DataDestroy
UISeasonHintTab.OnEnable = OnEnable
UISeasonHintTab.OnDisable = OnDisable

UISeasonHintTab.SetData = SetData
UISeasonHintTab.SetSelected = SetSelected
UISeasonHintTab.SetOnClick = SetOnClick
UISeasonHintTab.OnClick = OnClick

return UISeasonHintTab