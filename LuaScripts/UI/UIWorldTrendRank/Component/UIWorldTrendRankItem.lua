---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zzl.
--- DateTime: 
---
local UIWorldTrendRankItem = BaseClass("UIWorldTrendRankItem", UIBaseContainer)
local base = UIBaseContainer
local AllianceFlagItem = require "UI.UIAlliance.UIAllianceFlag.Component.AllianceFlagItem"
-- 创建
function UIWorldTrendRankItem:OnCreate()
    base.OnCreate(self)
    self._allianceName_txt  = self:AddComponent(UIText, "Txt_AllianceName")
    self._progress_txt      = self:AddComponent(UIText, "Txt_Progress")
    self._first_img         = self:AddComponent(UIImage,"Img_First")
    self._second_img        = self:AddComponent(UIImage,"Img_Second")
    self._third_img         = self:AddComponent(UIImage,"Img_Third")
    self._rankNum_txt       = self:AddComponent(UIText,"Txt_RankNum")
    self._allianceIcon_img  = self:AddComponent(AllianceFlagItem,"allianceFlag/AllianceFlag")
end

-- 销毁
function UIWorldTrendRankItem:OnDestroy()
    self._allianceName_txt  = nil
    self._progress_txt      = nil
    self._first_img         = nil
    self._second_img        = nil
    self._third_img         = nil
    self._rankNum_txt       = nil
    self._allianceIcon_img  = nil
    base.OnDestroy(self)
end

-- 显示
function UIWorldTrendRankItem:OnEnable()
    base.OnEnable(self)
end

-- 隐藏
function UIWorldTrendRankItem:OnDisable()
    base.OnDisable(self)
end

-- 全部刷新
function UIWorldTrendRankItem:RefreshData(data,index,param)
    if data.abbr ~= "" then
        self._allianceName_txt:SetText(data:GetAllianceName())
        self._allianceIcon_img:SetData(data.icon)
    else
        self._allianceName_txt:SetLocalText(302611)
        self._allianceIcon_img:SetData("1;1;1;1")
    end
    if param then
        if param.type == 18 or param.type == 20 then
            self._progress_txt:SetText(data.num)
        else
            self._progress_txt:SetText(UITimeManager:GetInstance():TimeStampToTimeForServerMinute(data.time))
        end
    else
        self._progress_txt:SetText(UITimeManager:GetInstance():TimeStampToTimeForServerMinute(data.time))
    end
    self:SetImg(index)
end

function UIWorldTrendRankItem:SetImg(index)
    --if index == 1 then
    self._first_img:SetActive(false)
    self._second_img:SetActive(false)
    self._third_img:SetActive(false)
    --elseif index == 2 then
    --    self._first_img:SetActive(false)
    --    self._second_img:SetActive(true)
    --    self._third_img:SetActive(false)
    --elseif index == 3 then
    --    self._first_img:SetActive(false)
    --    self._second_img:SetActive(false)
    --    self._third_img:SetActive(true)
    --else
    --    self._first_img:SetActive(false)
    --    self._second_img:SetActive(false)
    --    self._third_img:SetActive(false)
    --    self._rankNum_txt:SetText(index)
    --end
end


return UIWorldTrendRankItem