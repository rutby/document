---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2021/6/9 17:06
---
local UIFiveStarFeedBackCtrl = BaseClass("UIFiveStarFeedBackCtrl", UIBaseCtrl)

local function CloseSelf(self)
    UIManager:GetInstance():DestroyWindow(UIWindowNames.UIFiveStarFeedBack)
end

local function Close(self)
    UIManager:GetInstance():DestroyWindowByLayer(UILayer.Normal)
end

local function OnSendFeedBack(self, value)
    Setting:SetPrivateInt("APS_FiveStar_Jump",1)
    EventManager:GetInstance():Broadcast(EventId.FiveStarFeedbackComplete)
    --协议还是用五星好评的协议号 不过这里加了一个参数*value
    SFSNetwork.SendMessage(MsgDefines.FiveStar, 1, value);

    -- 发送吐槽的时候增加一个提示 感谢您的吐槽，火星联邦将为您提供更好的游戏体验
    UIUtil.ShowTipsId(121555)
    
    self:CloseSelf()
end

UIFiveStarFeedBackCtrl.CloseSelf =CloseSelf
UIFiveStarFeedBackCtrl.Close =Close
UIFiveStarFeedBackCtrl.OnSendFeedBack = OnSendFeedBack

return UIFiveStarFeedBackCtrl