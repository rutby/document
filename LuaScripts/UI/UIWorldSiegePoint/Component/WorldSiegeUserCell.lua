---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Imaginaerum.
--- DateTime: 2021/10/25 20:54
---
local WorldSiegeUserCell = BaseClass("WorldSiegeUserCell", UIBaseContainer)
local base = UIBaseContainer

local rankBg_path = ""
local rankTxt_path = "rank"
local rankImg_path = "rank/rankImg"
local name_path = "name"
local score_path = "score"
-- 创建
local function OnCreate(self)
    base.OnCreate(self)
    self.rankTxtN = self:AddComponent(UITextMeshProUGUIEx, rankTxt_path)
    self.rankImgN = self:AddComponent(UIImage, rankImg_path)
    self.rankBgN = self:AddComponent(UIImage, rankBg_path)
    self.name = self:AddComponent(UITextMeshProUGUIEx, name_path)
    self.score = self:AddComponent(UITextMeshProUGUIEx, score_path)
end

-- 销毁
local function OnDestroy(self)
    self.name = nil
    self.score = nil
    base.OnDestroy(self)
end

-- 显示
local function OnEnable(self)
    base.OnEnable(self)
end

-- 隐藏
local function OnDisable(self)
    base.OnDisable(self)
end

-- 全部刷新
local function RefreshData(self,data, rank)
    if data~=nil then
        local nameStr = "["..data.alAbbr.."]"--..data.alName
        self.name:SetText(nameStr)
        self.score:SetText(string.GetFormattedSeperatorNum(math.floor(data.point)))
    end

    if rank then
        self.rankTxtN:SetText(rank)
        if rank <= 3 then
            self.rankImgN:SetActive(true)
            self.rankImgN:LoadSprite(string.format("Assets/Main/Sprites/UI/Common/UIalliance_rankingbg0%s.png", rank))
            self.rankBgN:LoadSprite(string.format("Assets/Main/Sprites/UI/UIArena/arena_img_columns0%s.png", rank))
        else
            self.rankImgN:SetActive(false)
            self.rankBgN:LoadSprite("Assets/Main/Sprites/UI/UIArena/arena_img_columns04.png")
        end
    end

end




WorldSiegeUserCell.OnCreate = OnCreate
WorldSiegeUserCell.OnDestroy = OnDestroy
WorldSiegeUserCell.OnEnable = OnEnable
WorldSiegeUserCell.OnDisable = OnDisable
WorldSiegeUserCell.RefreshData = RefreshData

return WorldSiegeUserCell